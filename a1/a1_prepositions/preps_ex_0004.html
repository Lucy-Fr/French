<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Exercice interactif : les pr√©positions temporelles</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .question { margin-bottom: 20px; }
    .explanation { color: green; display: none; margin-top: 5px; }
    .result { font-weight: bold; margin-top: 20px; }
    .correct { background-color: #c8f7c5; }
    .missed { background-color: #fce3e3; }
    button { margin-top: 10px; margin-right: 10px; }
  </style>
</head>
<body>
<h2>Exercice interactif : Pr√©positions temporelles ‚Äì Choisissez la/les bonne(s) r√©ponse(s)</h2>

<div id="questions-container"></div>

<button onclick="showAnswers()">V√©rifier les r√©ponses</button>
<button onclick="resetQuiz()">R√©initialiser</button>
<p id="summary" class="result" style="display: none;"></p>

<script>
const data = [
  ["Il est parti ___ deux heures.", "il y a", "en", "dans", "depuis", ["il y a"], "–û–Ω —É–µ—Ö–∞–ª –¥–≤–∞ —á–∞—Å–∞ –Ω–∞–∑–∞–¥."],
  ["Nous partons ___ une heure.", "dans", "depuis", "il y a", "pendant", ["dans"], "–ú—ã —É–µ–∑–∂–∞–µ–º —á–µ—Ä–µ–∑ —á–∞—Å."],
  ["Elle travaille ici ___ 2010.", "depuis", "il y a", "en", "dans", ["depuis"], "–û–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–¥–µ—Å—å —Å 2010 –≥–æ–¥–∞."],
  ["Je vais finir ce travail ___ deux jours.", "en", "pendant", "dans", "depuis", ["en"], "–Ø –∑–∞–∫–æ–Ω—á—É —ç—Ç—É —Ä–∞–±–æ—Ç—É –∑–∞ –¥–≤–∞ –¥–Ω—è."],
  ["Ils sont en vacances ___ une semaine.", "depuis", "il y a", "en", "dans", ["depuis"], "–û–Ω–∏ –≤ –æ—Ç–ø—É—Å–∫–µ —É–∂–µ –Ω–µ–¥–µ–ª—é."],
  ["___ combien de temps as-tu lu ce livre ?", "en", "dans", "depuis", "pour", ["en"], "–ó–∞ —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —Ç—ã –ø—Ä–æ—á–∏—Ç–∞–ª —ç—Ç—É –∫–Ω–∏–≥—É?"],
  ["On a march√© ___ deux heures.", "pendant", "en", "depuis", "dans", ["pendant"], "–ú—ã —à–ª–∏ –¥–≤–∞ —á–∞—Å–∞."],
  ["Elle sera de retour ___ dix minutes.", "dans", "en", "depuis", "pendant", ["dans"], "–û–Ω–∞ –≤–µ—Ä–Ω—ë—Ç—Å—è —á–µ—Ä–µ–∑ –¥–µ—Å—è—Ç—å –º–∏–Ω—É—Ç."],
  ["Il est ici ___ ce matin.", "depuis", "en", "pendant", "dans", ["depuis"], "–û–Ω –∑–¥–µ—Å—å —Å —É—Ç—Ä–∞."],
  ["J‚Äôai appris le fran√ßais ___ un an.", "en", "pendant", "depuis", "il y a", ["en", "pendant"], "–Ø –≤—ã—É—á–∏–ª —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –∑–∞ –≥–æ–¥."],
  ["___ combien de temps vas-tu rester ?", "pendant", "pour", "depuis", "dans", ["pendant", "pour"], "–ù–∞ —Å–∫–æ–ª—å–∫–æ —Ç—ã –æ—Å—Ç–∞–Ω–µ—à—å—Å—è?"],
  ["Elle est arriv√©e ___ cinq minutes.", "il y a", "en", "depuis", "dans", ["il y a"], "–û–Ω–∞ –ø—Ä–∏–µ—Ö–∞–ª–∞ –ø—è—Ç—å –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥."],
  ["Il est parti ___ le week-end.", "pendant", "en", "dans", "depuis", ["pendant"], "–û–Ω —É–µ—Ö–∞–ª –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã–µ."],
  ["___ combien de temps peut-on visiter le mus√©e ?", "pendant", "en", "depuis", "dans", ["pendant"], "–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –º–æ–∂–Ω–æ –ø–æ—Å–µ—â–∞—Ç—å –º—É–∑–µ–π?"],
  ["Je suis rest√© l√† ___ trois heures.", "pendant", "en", "depuis", "dans", ["pendant"], "–Ø –ø—Ä–æ–±—ã–ª —Ç–∞–º —Ç—Ä–∏ —á–∞—Å–∞."],
  ["Elle a termin√© ___ deux semaines.", "en", "pendant", "depuis", "dans", ["en"], "–û–Ω–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞ –∑–∞ –¥–≤–µ –Ω–µ–¥–µ–ª–∏."],
  ["On a habit√© √† Paris ___ trois ans.", "pendant", "en", "dans", "depuis", ["pendant"], "–ú—ã –∂–∏–ª–∏ –≤ –ü–∞—Ä–∏–∂–µ —Ç—Ä–∏ –≥–æ–¥–∞."],
  ["Je pars ___ cinq jours.", "dans", "pour", "depuis", "pendant", ["dans", "pour"], "–Ø —É–µ–∑–∂–∞—é —á–µ—Ä–µ–∑ –ø—è—Ç—å –¥–Ω–µ–π."],
  ["Il est l√† ___ longtemps ?", "depuis", "en", "dans", "pendant", ["depuis"], "–û–Ω –∑–¥–µ—Å—å —É–∂–µ –¥–∞–≤–Ω–æ?"],
  ["Elle revient ___ deux heures.", "dans", "en", "pour", "depuis", ["dans"], "–û–Ω–∞ –≤–µ—Ä–Ω—ë—Ç—Å—è —á–µ—Ä–µ–∑ –¥–≤–∞ —á–∞—Å–∞."]
];

const correctAnswers = {};
const container = document.getElementById("questions-container");

function createQuiz() {
  container.innerHTML = "";
  for (let i = 0; i < data.length; i++) {
    const [text, opt1, opt2, opt3, opt4, correct, translation] = data[i];
    const qId = "q" + (i + 1);
    correctAnswers[qId] = correct;

    const block = document.createElement("div");
    block.className = "question";

    let html = `<p>${i + 1}. ${text}</p>`;
    [opt1, opt2, opt3, opt4].forEach(opt => {
      html += `<label><input type="checkbox" name="${qId}" value="${opt}"> ${opt}</label><br>`;
    });
    html += `<div class="explanation" id="exp${i + 1}" style="display:none;">‚úÖ ${correct.join(" / ")}<br>‚ú® <em>${translation}</em></div>`;

    block.innerHTML = html;
    container.appendChild(block);
  }
}

function showAnswers() {
  let totalCorrect = 0;
  let totalSelectedCorrect = 0;

  for (let i = 1; i <= data.length; i++) {
    const qName = "q" + i;
    const checkboxes = document.querySelectorAll(`input[name='${qName}']`);
    const correctSet = new Set(correctAnswers[qName]);

    checkboxes.forEach(cb => {
      cb.parentElement.classList.remove("correct", "missed");
      if (cb.checked && correctSet.has(cb.value)) {
        totalSelectedCorrect++;
        cb.parentElement.classList.add("correct");
      } else if (!cb.checked && correctSet.has(cb.value)) {
        cb.parentElement.classList.add("missed");
      }
    });

    totalCorrect += correctSet.size;
    document.getElementById("exp" + i).style.display = "block";
  }

  document.getElementById("summary").innerText =
    `Vous avez s√©lectionn√© ${totalSelectedCorrect} bonne(s) r√©ponse(s) sur ${totalCorrect} possibles.`;
  document.getElementById("summary").style.display = "block";
}

function resetQuiz() {
  const inputs = document.querySelectorAll("input[type='checkbox']");
  inputs.forEach(input => input.checked = false);

  const labels = document.querySelectorAll("label");
  labels.forEach(label => label.classList.remove("correct", "missed"));

  for (let i = 1; i <= data.length; i++) {
    document.getElementById("exp" + i).style.display = "none";
  }
  document.getElementById("summary").style.display = "none";
}

createQuiz();
</script>
  <p>
  <a href="../a1_prepositions.html">‚Üê –ù–∞–∑–∞–¥ –∫ –ø—Ä–µ–¥–ª–æ–≥–∞–º</a> |
  <a href="../../index.html">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
</p>

</body>
</html>
