<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Exercice interactif : les pr√©positions de lieu</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .question { margin-bottom: 20px; }
    .explanation { color: green; display: none; margin-top: 5px; }
    .result { font-weight: bold; margin-top: 20px; }
    .correct { background-color: #c8f7c5; }
    .missed { background-color: #fce3e3; }
    button { margin-top: 10px; margin-right: 10px; }
  </style>
</head>
<body>
<h2>Exercice interactif : Pr√©positions de lieu ‚Äì Choisissez la/les bonne(s) r√©ponse(s)</h2>

<div id="questions-container"></div>

<button onclick="showAnswers()">V√©rifier les r√©ponses</button>
<button onclick="resetQuiz()">R√©initialiser</button>
<p id="summary" class="result" style="display: none;"></p>

<script>
const data = [
  ["Le chat est ___ la bo√Æte.", "dans", "sur", "√†", "en", ["dans"], "–ö–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–æ–±–∫–µ."],
  ["Le tableau est accroch√© ___ le mur.", "sur", "dans", "√†", "en", ["sur"], "–ö–∞—Ä—Ç–∏–Ω–∞ –≤–∏—Å–∏—Ç –Ω–∞ —Å—Ç–µ–Ω–µ."],
  ["Nous sommes all√©s ___ la plage.", "√†", "en", "dans", "chez", ["√†"], "–ú—ã —Ö–æ–¥–∏–ª–∏ –Ω–∞ –ø–ª—è–∂."],
  ["Les enfants jouent ___ la cour.", "dans", "sur", "en", "√†", ["dans"], "–î–µ—Ç–∏ –∏–≥—Ä–∞—é—Ç –≤–æ –¥–≤–æ—Ä–µ."],
  ["Il y a une r√©union ___ la salle 2.", "dans", "√†", "chez", "sur", ["dans"], "–°–æ–±—Ä–∞–Ω–∏–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ 2."],
  ["Je l‚Äôai rencontr√© ___ le m√©tro.", "dans", "√†", "chez", "par", ["dans"], "–Ø –≤—Å—Ç—Ä–µ—Ç–∏–ª –µ–≥–æ –≤ –º–µ—Ç—Ä–æ."],
  ["Elle vit ___ un village tranquille.", "dans", "√†", "en", "chez", ["dans", "√†"], "–û–Ω–∞ –∂–∏–≤—ë—Ç –≤ —Ç–∏—Ö–æ–π –¥–µ—Ä–µ–≤–Ω–µ."],
  ["Le livre est ___ la table.", "sur", "dans", "en", "√†", ["sur"], "–ö–Ω–∏–≥–∞ –Ω–∞ —Å—Ç–æ–ª–µ."],
  ["Ils sont entr√©s ___ la maison.", "dans", "√†", "en", "chez", ["dans"], "–û–Ω–∏ –≤–æ—à–ª–∏ –≤ –¥–æ–º."],
  ["Tu es d√©j√† all√© ___ la poste ?", "√†", "dans", "chez", "en", ["√†"], "–¢—ã –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å –±—ã–ª –Ω–∞ –ø–æ—á—Ç–µ?"],
  ["On s‚Äôest retrouv√©s ___ le parc.", "dans", "√†", "en", "chez", ["dans", "√†"], "–ú—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å –≤ –ø–∞—Ä–∫–µ."],
  ["Elle travaille ___ le centre-ville.", "dans", "en", "√†", "sur", ["dans", "en"], "–û–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞."],
  ["J‚Äôai vu Paul ___ la boulangerie.", "√†", "chez", "dans", "en", ["√†", "chez"], "–Ø –≤–∏–¥–µ–ª –ü–æ–ª–∞ –≤ –±—É–ª–æ—á–Ω–æ–π."],
  ["Il est mont√© ___ l'√©tage.", "√†", "en", "dans", "sur", ["√†", "en"], "–û–Ω –ø–æ–¥–Ω—è–ª—Å—è –Ω–∞ —ç—Ç–∞–∂."],
  ["Nous avons attendu ___ l‚Äôarr√™t de bus.", "√†", "√† l'", "sur", "dans", ["√†"], "–ú—ã –∂–¥–∞–ª–∏ –Ω–∞ –∞–≤—Ç–æ–±—É—Å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–µ."],
  ["Je reste ___ l'h√¥tel ce soir.", "√†", "dans", "chez", "en", ["√†", "dans"], "–Ø –æ—Å—Ç–∞—é—Å—å –≤ –æ—Ç–µ–ª–µ —ç—Ç–∏–º –≤–µ—á–µ—Ä–æ–º."],
  ["Il vit ___ une ferme.", "dans", "√†", "chez", "en", ["dans"], "–û–Ω –∂–∏–≤—ë—Ç –Ω–∞ —Ñ–µ—Ä–º–µ."],
  ["Ils sont install√©s ___ la banlieue.", "dans", "en", "√†", "chez", ["dans", "en"], "–û–Ω–∏ –∂–∏–≤—É—Ç –≤ –ø—Ä–∏–≥–æ—Ä–æ–¥–µ."],
  ["Elle est n√©e ___ un petit village.", "dans", "√†", "chez", "sur", ["dans", "√†"], "–û–Ω–∞ —Ä–æ–¥–∏–ª–∞—Å—å –≤ –º–∞–ª–µ–Ω—å–∫–æ–π –¥–µ—Ä–µ–≤–Ω–µ."],
  ["Je l‚Äôai trouv√© ___ la biblioth√®que.", "dans", "√†", "en", "chez", ["dans", "√†"], "–Ø –Ω–∞—à—ë–ª –µ–≥–æ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ."],
  ["On a visit√© une exposition ___ le mus√©e.", "dans", "√†", "chez", "en", ["dans", "√†"], "–ú—ã –ø–æ—Å–µ—Ç–∏–ª–∏ –≤—ã—Å—Ç–∞–≤–∫—É –≤ –º—É–∑–µ–µ."],
  ["Je me repose ___ mon lit.", "dans", "en", "√†", "sur", ["dans"], "–Ø –æ—Ç–¥—ã—Ö–∞—é –≤ —Å–≤–æ–µ–π –∫—Ä–æ–≤–∞—Ç–∏."],
  ["Les cl√©s sont ___ le tiroir.", "dans", "√†", "sur", "en", ["dans"], "–ö–ª—é—á–∏ –≤ —è—â–∏–∫–µ."],
  ["On a mang√© ___ la terrasse.", "sur", "√†", "en", "dans", ["sur"], "–ú—ã –ø–æ–µ–ª–∏ –Ω–∞ —Ç–µ—Ä—Ä–∞—Å–µ."],
  ["Il est arriv√© ___ l‚Äôa√©roport.", "√†", "dans", "en", "chez", ["√†", "dans"], "–û–Ω –ø—Ä–∏–±—ã–ª –≤ –∞—ç—Ä–æ–ø–æ—Ä—Ç."]
];

const correctAnswers = {};
const container = document.getElementById("questions-container");

function createQuiz() {
  container.innerHTML = "";
  for (let i = 0; i < data.length; i++) {
    const [text, opt1, opt2, opt3, opt4, correct, translation] = data[i];
    const qId = "q" + (i + 1);
    correctAnswers[qId] = correct;

    const block = document.createElement("div");
    block.className = "question";

    let html = `<p>${i + 1}. ${text}</p>`;
    [opt1, opt2, opt3, opt4].forEach(opt => {
      html += `<label><input type="checkbox" name="${qId}" value="${opt}"> ${opt}</label><br>`;
    });
    html += `<div class="explanation" id="exp${i + 1}" style="display:none;">‚úÖ ${correct.join(" / ")}<br>‚ú® <em>${translation}</em></div>`;

    block.innerHTML = html;
    container.appendChild(block);
  }
}

function showAnswers() {
  let totalCorrect = 0;
  let totalSelectedCorrect = 0;

  for (let i = 1; i <= data.length; i++) {
    const qName = "q" + i;
    const checkboxes = document.querySelectorAll(`input[name='${qName}']`);
    const correctSet = new Set(correctAnswers[qName]);

    checkboxes.forEach(cb => {
      cb.parentElement.classList.remove("correct", "missed");
      if (cb.checked && correctSet.has(cb.value)) {
        totalSelectedCorrect++;
        cb.parentElement.classList.add("correct");
      } else if (!cb.checked && correctSet.has(cb.value)) {
        cb.parentElement.classList.add("missed");
      }
    });

    totalCorrect += correctSet.size;
    document.getElementById("exp" + i).style.display = "block";
  }

  document.getElementById("summary").innerText =
    `Vous avez s√©lectionn√© ${totalSelectedCorrect} bonne(s) r√©ponse(s) sur ${totalCorrect} possibles.`;
  document.getElementById("summary").style.display = "block";
}

function resetQuiz() {
  const inputs = document.querySelectorAll("input[type='checkbox']");
  inputs.forEach(input => input.checked = false);

  const labels = document.querySelectorAll("label");
  labels.forEach(label => label.classList.remove("correct", "missed"));

  for (let i = 1; i <= data.length; i++) {
    document.getElementById("exp" + i).style.display = "none";
  }
  document.getElementById("summary").style.display = "none";
}

createQuiz();
</script>
  <p>
  <a href="../a1_prepositions.html">‚Üê –ù–∞–∑–∞–¥ –∫ –ø—Ä–µ–¥–ª–æ–≥–∞–º</a> |
  <a href="../../index.html">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
</p>

</body>
</html>
