<!DOCTYPE html>
<html lang="fr">
>
<head>
  <meta charset="UTF-8">
  <title>Exercice A1 : Imparfait ‚Äî Choisissez la bonne forme</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .question { margin-bottom: 20px; }
    .explanation { color: green; display: none; margin-top: 5px; }
    .result { font-weight: bold; margin-top: 20px; }
    .correct { background-color: #c8f7c5; }
    .missed { background-color: #fce3e3; }
    button { margin-top: 10px; margin-right: 10px; }
  </style>
</head>
<body>
<h2>Exercice A1 : Imparfait ‚Äî Choisissez la bonne forme</h2>

<div id="questions-container"></div>

<button onclick="showAnswers()">V√©rifier les r√©ponses</button>
<button onclick="resetQuiz()">R√©initialiser</button>
<p id="summary" class="result" style="display: none;"></p>

<script>
const data = [
  ["Nous ___ souvent au parc. (aller)", "allions", "–ú—ã —á–∞—Å—Ç–æ —Ö–æ–¥–∏–ª–∏ –≤ –ø–∞—Ä–∫."],
  ["Tu ___ de la musique classique. (√©couter)", "√©coutais", "–¢—ã —Å–ª—É—à–∞–ª –∫–ª–∞—Å—Å–∏—á–µ—Å–∫—É—é –º—É–∑—ã–∫—É."],
  ["Ils ___ des ch√¢teaux de sable. (construire)", "construisaient", "–û–Ω–∏ —Å—Ç—Ä–æ–∏–ª–∏ –ø–µ—Å–æ—á–Ω—ã–µ –∑–∞–º–∫–∏."],
  ["Elle ___ des romans policiers. (lire)", "lisait", "–û–Ω–∞ —á–∏—Ç–∞–ª–∞ –¥–µ—Ç–µ–∫—Ç–∏–≤—ã."],
  ["Je ___ la radio tous les matins. (√©couter)", "√©coutais", "–Ø —Å–ª—É—à–∞–ª —Ä–∞–¥–∏–æ –∫–∞–∂–¥–æ–µ —É—Ç—Ä–æ."],
  ["Vous ___ des promenades apr√®s le d√Æner. (faire)", "faisiez", "–í—ã –≥—É–ª—è–ª–∏ –ø–æ—Å–ª–µ —É–∂–∏–Ω–∞."],
  ["Ils ___ heureux ensemble. (√™tre)", "√©taient", "–û–Ω–∏ –±—ã–ª–∏ —Å—á–∞—Å—Ç–ª–∏–≤—ã –≤–º–µ—Å—Ç–µ."],
  ["Tu ___ bien en classe. (travailler)", "travaillais", "–¢—ã —Ö–æ—Ä–æ—à–æ —É—á–∏–ª—Å—è –≤ –∫–ª–∞—Å—Å–µ."],
  ["Nous ___ nos amis tous les dimanches. (voir)", "voyions", "–ú—ã –≤—Å—Ç—Ä–µ—á–∞–ª–∏—Å—å —Å –¥—Ä—É–∑—å—è–º–∏ –∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ."],
  ["Je ___ dans un petit appartement. (vivre)", "vivais", "–Ø –∂–∏–ª –≤ –º–∞–ª–µ–Ω—å–∫–æ–π –∫–≤–∞—Ä—Ç–∏—Ä–µ."],
  ["Elle ___ une belle voix. (avoir)", "avait", "–£ –Ω–µ—ë –±—ã–ª –∫—Ä–∞—Å–∏–≤—ã–π –≥–æ–ª–æ—Å."],
  ["Vous ___ souvent au t√©l√©phone. (parler)", "parliez", "–í—ã —á–∞—Å—Ç–æ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞–ª–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É."],
  ["Il ___ toujours √† la m√™me heure. (arriver)", "arrivait", "–û–Ω –≤—Å–µ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏–ª –≤ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –≤—Ä–µ–º—è."],
  ["Nous ___ les vacances en Bretagne. (passer)", "passions", "–ú—ã –ø—Ä–æ–≤–æ–¥–∏–ª–∏ –∫–∞–Ω–∏–∫—É–ª—ã –≤ –ë—Ä–µ—Ç–∞–Ω–∏."],
  ["Tu ___ les r√©ponses rapidement. (trouver)", "trouvais", "–¢—ã –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏–ª –æ—Ç–≤–µ—Ç—ã."],
  ["Je ___ le d√©jeuner pour toute la famille. (pr√©parer)", "pr√©parais", "–Ø –≥–æ—Ç–æ–≤–∏–ª –æ–±–µ–¥ –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏."],
  ["Ils ___ souvent tard le soir. (rentrer)", "rentraient", "–û–Ω–∏ —á–∞—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏—Å—å –ø–æ–∑–¥–Ω–æ –≤–µ—á–µ—Ä–æ–º."],
  ["Elle ___ √† sa grand-m√®re chaque semaine. (t√©l√©phoner)", "t√©l√©phonait", "–û–Ω–∞ –∑–≤–æ–Ω–∏–ª–∞ –±–∞–±—É—à–∫–µ –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é."],
  ["Vous ___ beaucoup de livres. (lire)", "lisiez", "–í—ã —á–∏—Ç–∞–ª–∏ –º–Ω–æ–≥–æ –∫–Ω–∏–≥."],
  ["Je ___ tout le temps fatigu√©. (√™tre)", "√©tais", "–Ø –≤—Å—ë –≤—Ä–µ–º—è –±—ã–ª —É—Å—Ç–∞–≤—à–∏–º."],
];

const options = ["√©tais", "√©tait", "√©tions", "√©tiez", "√©taient", "avais", "avait", "avions", "aviez", "avaient", "faisais", "faisait", "faisions", "faisiez", "faisaient", "travaillais", "parlais", "allait", "allions", "voyions", "vivais", "pr√©parais", "passions", "rentraient", "lisait", "lisiez", "t√©l√©phonait", "√©coutais", "parliez", "trouvais", "construisaient", "arrivait"];

const container = document.getElementById("questions-container");

function createQuiz() {
  for (let i = 0; i < data.length; i++) {
    const [text, correct, translation] = data[i];
    const qId = "q" + (i + 1);

    const block = document.createElement("div");
    block.className = "question";

    let html = `<p>${i + 1}. ${text}</p>`;
    html += `<select id="${qId}">
               <option value="">-- choisissez --</option>
               ${options.map(opt => `<option value="${opt}">${opt}</option>`).join('')}
             </select>`;
    html += `<div class="explanation" id="exp${i + 1}">‚úÖ ${correct}<br>‚ú® <em>${translation}</em></div>`;

    block.innerHTML = html;
    container.appendChild(block);
  }
}

function showAnswers() {
  let total = data.length;
  let score = 0;

  for (let i = 0; i < data.length; i++) {
    const correct = data[i][1];
    const select = document.getElementById("q" + (i + 1));
    const exp = document.getElementById("exp" + (i + 1));
    const answer = select.value;

    select.classList.remove("correct", "missed");

    if (answer === correct) {
      select.classList.add("correct");
      score++;
    } else {
      select.classList.add("missed");
    }

    exp.style.display = "block";
  }

  const summary = document.getElementById("summary");
  summary.innerText = `Vous avez ${score} bonne(s) r√©ponse(s) sur ${total}.`;
  summary.style.display = "block";
}

function resetQuiz() {
  for (let i = 0; i < data.length; i++) {
    const select = document.getElementById("q" + (i + 1));
    const exp = document.getElementById("exp" + (i + 1));
    select.value = "";
    select.classList.remove("correct", "missed");
    exp.style.display = "none";
  }
  document.getElementById("summary").style.display = "none";
}

createQuiz();
</script>

<p>
  <a href="../a1_tenses.html">‚Üê –ù–∞–∑–∞–¥ –∫ –≤—Ä–µ–º–µ–Ω–∞–º –≥–ª–∞–≥–æ–ª–∞</a> |
  <a href="../../index.html">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
</p>

</body>
</html>
