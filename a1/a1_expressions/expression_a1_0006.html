<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Expressions courantes (6) ‚Äî dialogues + audio + insertion libre</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; }
    .question { margin-bottom: 25px; }
    .correct { background-color: #c8f7c5; }
    .missed { background-color: #fce3e3; }
    select, input[type="text"] { padding: 5px; }
    button { margin: 10px 5px; }
    table { border-collapse: collapse; margin-bottom: 30px; }
    th, td { padding: 6px 12px; border: 1px solid #ccc; text-align: left; }
  </style>
</head>
<body>

<h2>üìò Expressions courantes ‚Äî S√©rie 6</h2>
<p>Voici une liste d'expressions famili√®res avec leur traduction en russe et une explication grammaticale :</p>

<table>
  <tr><th>Expression</th><th>–ü–µ—Ä–µ–≤–æ–¥</th><th>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ</th></tr>
  <tr><td>C‚Äôest nul</td><td>–≠—Ç–æ –æ—Ç—Å—Ç–æ–π</td><td>–†–∞–∑–≥–æ–≤–æ—Ä–Ω–∞—è —Ñ–æ—Ä–º–∞ –æ—Ü–µ–Ω–∫–∏</td></tr>
  <tr><td>√áa y est</td><td>–í–æ—Ç –∏ –≤—Å—ë / –ì–æ—Ç–æ–≤–æ</td><td>–ò–¥–∏–æ–º–∞, –≤—ã—Ä–∞–∂–∞—é—â–∞—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ—Å—Ç—å</td></tr>
  <tr><td>Je suis partant(e)</td><td>–Ø –∑–∞ / –Ø –≥–æ—Ç–æ–≤</td><td>–§–æ—Ä–º–∞ –ø—Ä–∏—á–∞—Å—Ç–∏—è –æ—Ç ¬´partir¬ª —Å √™tre</td></tr>
  <tr><td>C‚Äôest pas donn√©</td><td>–î–æ—Ä–æ–≥–æ / –ù–µ –¥—ë—à–µ–≤–æ</td><td>–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å –ø–∞—Å—Å–∏–≤–æ–º</td></tr>
  <tr><td>Tu g√®res</td><td>–¢—ã –∫—Ä—É—Ç–æ —Å–ø—Ä–∞–≤–ª—è–µ—à—å—Å—è</td><td>–ì–ª–∞–≥–æ–ª ¬´g√©rer¬ª ‚Äî ¬´—É–ø—Ä–∞–≤–ª—è—Ç—å¬ª, —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–æ ‚Äî ¬´–º–æ–ª–æ–¥–µ—Ü¬ª</td></tr>
  <tr><td>J‚Äôai la flemme</td><td>–ú–Ω–µ –ª–µ–Ω—å</td><td>–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º —Å —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º ¬´flemme¬ª</td></tr>
  <tr><td>Je me suis plant√©(e)</td><td>–Ø –æ–±–ª–∞–∂–∞–ª—Å—è(–ª–∞—Å—å)</td><td>–†–∞–∑–≥–æ–≤–æ—Ä–Ω–∞—è —Ñ–æ—Ä–º–∞ –≥–ª–∞–≥–æ–ª–∞ ¬´se planter¬ª –≤ pass√© compos√©</td></tr>
  <tr><td>Nickel</td><td>–°—É–ø–µ—Ä / –ß–∏—Å—Ç–æ / –û—Ç–ª–∏—á–Ω–æ</td><td>–°–ª–µ–Ω–≥–æ–≤–æ–µ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ ‚Äî –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞</td></tr>
  <tr><td>Laisse tomber</td><td>–ó–∞–±–µ–π / –ó–∞–±—É–¥—å</td><td>–ò–º–ø–µ—Ä–∞—Ç–∏–≤ –≥–ª–∞–≥–æ–ª–∞ ¬´laisser tomber¬ª</td></tr>
  <tr><td>On se casse</td><td>–£—Ö–æ–¥–∏–º / –°–≤–∞–ª–∏–≤–∞–µ–º</td><td>–†–∞–∑–≥. —Ñ–æ—Ä–º–∞ –≥–ª–∞–≥–æ–ª–∞ ¬´se casser¬ª</td></tr>
</table>

<h3>üß© Exercice 1 ‚Äî Choisissez l'expression correcte</h3>
<p>Compl√©tez chaque dialogue avec la bonne expression. Cliquez sur üîä pour √©couter.</p>
<div id="dropdown-exercise"></div>
<p id="score1"></p>

<h3>‚úçÔ∏è Exercice 2 ‚Äî √âcrivez l'expression correcte</h3>
<p>Inscrivez la bonne expression dans chaque espace vide.</p>
<div id="input-exercise"></div>
<p id="score2"></p>

<button onclick="checkDropdown(); checkInput();">V√©rifier</button>
<button onclick="location.reload()">R√©initialiser</button>

<p>
  <a href="../a1_expressions.html">‚Üê Retour aux expressions</a> |
  <a href="../../index.html">üè† Accueil</a>
</p>

<script>
const expressions = [
  "C‚Äôest nul", "√áa y est", "Je suis partant(e)", "C‚Äôest pas donn√©", "Tu g√®res",
  "J‚Äôai la flemme", "Je me suis plant√©(e)", "Nickel", "Laisse tomber", "On se casse"
];

const dialogues = [
  {
    full: "‚Äî J‚Äôai enfin fini mon expos√© ! ‚Äî √áa y est !",
    withGap: "‚Äî J‚Äôai enfin fini mon expos√© ! ‚Äî ___ !",
    answer: "√áa y est"
  },
  {
    full: "‚Äî Tu veux aller √† la plage ? ‚Äî Je suis partant(e).",
    withGap: "‚Äî Tu veux aller √† la plage ? ‚Äî ___",
    answer: "Je suis partant(e)"
  },
  {
    full: "‚Äî Ce resto est sympa, mais c‚Äôest pas donn√©.",
    withGap: "‚Äî Ce resto est sympa, mais ___",
    answer: "C‚Äôest pas donn√©"
  },
  {
    full: "‚Äî Tu as g√©r√© tout √ßa tout seul ? ‚Äî Ouais, tu g√®res !",
    withGap: "‚Äî Tu as g√©r√© tout √ßa tout seul ? ‚Äî Ouais, ___ !",
    answer: "Tu g√®res"
  },
  {
    full: "‚Äî Tu viens avec nous ? ‚Äî Non, j‚Äôai la flemme.",
    withGap: "‚Äî Tu viens avec nous ? ‚Äî Non, ___",
    answer: "J‚Äôai la flemme"
  },
  {
    full: "‚Äî T‚Äôas bien r√©ussi ton test ? ‚Äî Non, je me suis plant√©(e).",
    withGap: "‚Äî T‚Äôas bien r√©ussi ton test ? ‚Äî Non, ___",
    answer: "Je me suis plant√©(e)"
  },
  {
    full: "‚Äî J‚Äôai achet√© ce jeu, mais il est nul. ‚Äî C‚Äôest nul.",
    withGap: "‚Äî J‚Äôai achet√© ce jeu, mais il est nul. ‚Äî ___",
    answer: "C‚Äôest nul"
  },
  {
    full: "‚Äî C‚Äôest bon, tout est rang√©. ‚Äî Nickel.",
    withGap: "‚Äî C‚Äôest bon, tout est rang√©. ‚Äî ___",
    answer: "Nickel"
  },
  {
    full: "‚Äî Il est encore en retard‚Ä¶ ‚Äî Laisse tomber.",
    withGap: "‚Äî Il est encore en retard‚Ä¶ ‚Äî ___",
    answer: "Laisse tomber"
  },
  {
    full: "‚Äî Il fait trop de bruit ici. ‚Äî Allez, on se casse.",
    withGap: "‚Äî Il fait trop de bruit ici. ‚Äî Allez, ___",
    answer: "On se casse"
  }
];

function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function speak(text) {
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'fr-FR';
  const voices = speechSynthesis.getVoices();
  const fr = voices.find(v => v.lang === 'fr-FR');
  if (fr) utterance.voice = fr;
  speechSynthesis.speak(utterance);
}

speechSynthesis.onvoiceschanged = () => {};

function renderExercises() {
  const dropdownContainer = document.getElementById("dropdown-exercise");
  const inputContainer = document.getElementById("input-exercise");

  dialogues.forEach((dlg, i) => {
    const shuffled = shuffle([...expressions]);
    const options = shuffled.map(exp => `<option value="${exp}">${exp}</option>`).join("");
    
    dropdownContainer.innerHTML += `
      <div class="question">
        <button onclick="speak('${dlg.full}')">üîä √âcouter</button><br>
        ${dlg.withGap.replace("___", `<select id="dd${i}"><option value="">‚Äî</option>${options}</select>`)}
      </div>
    `;

    inputContainer.innerHTML += `
      <div class="question">
        ${dlg.withGap.replace("___", `<input type="text" id="in${i}" placeholder="...">`)}
      </div>
    `;
  });
}

function checkDropdown() {
  let score = 0;
  dialogues.forEach((dlg, i) => {
    const sel = document.getElementById("dd" + i);
    sel.classList.remove("correct", "missed");
    if (sel.value === dlg.answer) {
      sel.classList.add("correct");
      score++;
    } else {
      sel.classList.add("missed");
    }
  });
  document.getElementById("score1").innerText = `Exercice 1 : ${score} / ${dialogues.length}`;
}

function checkInput() {
  let score = 0;
  dialogues.forEach((dlg, i) => {
    const input = document.getElementById("in" + i);
    input.classList.remove("correct", "missed");
    if (input.value.trim().toLowerCase() === dlg.answer.toLowerCase()) {
      input.classList.add("correct");
      score++;
    } else {
      input.classList.add("missed");
    }
  });
  document.getElementById("score2").innerText = `Exercice 2 : ${score} / ${dialogues.length}`;
}

window.onload = renderExercises;
</script>

</body>
</html>
