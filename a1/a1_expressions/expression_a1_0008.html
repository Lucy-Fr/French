<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Expressions courantes (8) â€” registres + audio + exercices</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; }
    .question { margin-bottom: 25px; }
    .correct { background-color: #c8f7c5; }
    .missed { background-color: #fce3e3; }
    select, input[type="text"] { padding: 5px; }
    button { margin: 10px 5px; }
    table { border-collapse: collapse; margin-bottom: 30px; }
    th, td { padding: 6px 12px; border: 1px solid #ccc; text-align: left; }
    .reg { font-style: italic; color: gray; }
  </style>
</head>
<body>

<h2>ğŸ“˜ Expressions courantes â€” SÃ©rie 8</h2>
<p>Liste d'expressions avec leur registre, traduction et explication grammaticale :</p>

<table>
  <tr><th>Expression</th><th>ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´</th><th>Ğ“Ñ€Ğ°Ğ¼Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°</th><th>Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€</th></tr>
  <tr><td>Ã‡a roule</td><td>Ğ’ÑÑ‘ Ğ¾Ğº / Ğ’ÑÑ‘ Ğ¸Ğ´Ñ‘Ñ‚</td><td>Ğ¤Ñ€Ğ°Ğ·Ğ° Ñ Ğ³Ğ»Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ¼ Â«roulerÂ»</td><td class="reg">Ñ€Ğ°Ğ·Ğ³.</td></tr>
  <tr><td>Fais voir</td><td>ĞŸĞ¾ĞºĞ°Ğ¶Ğ¸</td><td>Ğ˜Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¸Ğ² Ğ¾Ñ‚ Â«faire voirÂ»</td><td class="reg">Ñ€Ğ°Ğ·Ğ³.</td></tr>
  <tr><td>Tâ€™as pas pigÃ©</td><td>Ğ¢Ñ‹ Ğ½Ğµ Ğ¿Ğ¾Ğ½ÑĞ»</td><td>Ğ¡Ğ¾ĞºÑ€. Ğ¾Ñ‚ Â«Tu nâ€™as pas comprisÂ»</td><td class="reg">Ñ€Ğ°Ğ·Ğ³.</td></tr>
  <tr><td>Il sâ€™en fout</td><td>Ğ•Ğ¼Ñƒ Ğ¿Ğ»ĞµĞ²Ğ°Ñ‚ÑŒ</td><td>Ğ“Ğ»Ğ°Ğ³Ğ¾Ğ» Â«sâ€™en foutreÂ»</td><td class="reg">Ğ²ÑƒĞ»ÑŒĞ³Ğ°Ñ€.</td></tr>
  <tr><td>Bouge pas</td><td>ĞĞµ Ğ´Ğ²Ğ¸Ğ³Ğ°Ğ¹ÑÑ</td><td>Ğ˜Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¸Ğ² Ğ¾Ñ‚ Â«bougerÂ»</td><td class="reg">Ñ€Ğ°Ğ·Ğ³.</td></tr>
  <tr><td>ArrÃªte tes conneries</td><td>ĞŸÑ€ĞµĞºÑ€Ğ°Ñ‚Ğ¸ Ğ½ĞµÑÑ‚Ğ¸ Ñ‡ÑƒÑˆÑŒ</td><td>Ğ˜Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¸Ğ² + ÑÑƒÑ‰. Â«connerieÂ»</td><td class="reg">Ğ³Ñ€ÑƒĞ±.</td></tr>
  <tr><td>Comme dâ€™hab</td><td>ĞšĞ°Ğº Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾</td><td>Ğ¡Ğ¾ĞºÑ€Ğ°Ñ‰. Ğ¾Ñ‚ Â«comme dâ€™habitudeÂ»</td><td class="reg">Ñ€Ğ°Ğ·Ğ³.</td></tr>
  <tr><td>Ã‡a ne me regarde pas</td><td>Ğ­Ñ‚Ğ¾ Ğ½Ğµ Ğ¼Ğ¾Ñ‘ Ğ´ĞµĞ»Ğ¾</td><td>ĞĞµĞ³Ğ°Ñ‚Ğ¸Ğ² Ñ Â«regarderÂ»</td><td class="reg">Ğ¾Ñ„Ğ¸Ñ†.</td></tr>
  <tr><td>On sâ€™arrache</td><td>Ğ£Ñ…Ğ¾Ğ´Ğ¸Ğ¼ / Ğ¡Ğ²Ğ°Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼</td><td>Ğ“Ğ»Ğ°Ğ³Ğ¾Ğ» Â«sâ€™arracherÂ»</td><td class="reg">Ğ²ÑƒĞ»ÑŒĞ³Ğ°Ñ€.</td></tr>
  <tr><td>Tâ€™inquiÃ¨te mÃªme pas</td><td>Ğ”Ğ°Ğ¶Ğµ Ğ½Ğµ Ğ¿Ğ°Ñ€ÑŒÑÑ</td><td>Ğ¡Ğ¾ĞºÑ€. Ğ¾Ñ‚ Â«ne tâ€™inquiÃ¨te mÃªme pasÂ»</td><td class="reg">Ñ€Ğ°Ğ·Ğ³.</td></tr>
</table>

<h3>ğŸ§© Exercice 1 â€” Choisissez l'expression correcte</h3>
<p>ComplÃ©tez chaque dialogue avec l'expression appropriÃ©e. Cliquez sur ğŸ”Š pour Ã©couter.</p>
<div id="dropdown-exercise"></div>
<p id="score1"></p>

<h3>âœï¸ Exercice 2 â€” Ã‰crivez l'expression correcte</h3>
<p>Inscrivez la bonne expression dans chaque espace vide.</p>
<div id="input-exercise"></div>
<p id="score2"></p>

<button onclick="checkDropdown(); checkInput();">VÃ©rifier</button>
<button onclick="location.reload()">RÃ©initialiser</button>

<p>
  <a href="../a1_expressions.html">â† Retour aux expressions</a> |
  <a href="../../index.html">ğŸ  Accueil</a>
</p>

<script>
const expressions = [
  "Ã‡a roule", "Fais voir", "Tâ€™as pas pigÃ©", "Il sâ€™en fout", "Bouge pas",
  "ArrÃªte tes conneries", "Comme dâ€™hab", "Ã‡a ne me regarde pas", "On sâ€™arrache", "Tâ€™inquiÃ¨te mÃªme pas"
];

const dialogues = [
  {
    full: "â€” On se retrouve Ã  18h devant le bar ? â€” Ã‡a roule !",
    withGap: "â€” On se retrouve Ã  18h devant le bar ? â€” ___ !",
    answer: "Ã‡a roule"
  },
  {
    full: "â€” Tu as un nouveau tÃ©lÃ©phone ? Fais voir !",
    withGap: "â€” Tu as un nouveau tÃ©lÃ©phone ? ___ !",
    answer: "Fais voir"
  },
  {
    full: "â€” Mais non, il ne parlait pas de toiâ€¦ â€” Tâ€™as pas pigÃ©.",
    withGap: "â€” Mais non, il ne parlait pas de toiâ€¦ â€” ___",
    answer: "Tâ€™as pas pigÃ©"
  },
  {
    full: "â€” Il va venir ou pas ? â€” Il sâ€™en fout.",
    withGap: "â€” Il va venir ou pas ? â€” ___",
    answer: "Il sâ€™en fout"
  },
  {
    full: "â€” Je reviens tout de suite, bouge pas.",
    withGap: "â€” Je reviens tout de suite, ___",
    answer: "Bouge pas"
  },
  {
    full: "â€” Tu vas encore acheter ce truc inutile ? â€” ArrÃªte tes conneries.",
    withGap: "â€” Tu vas encore acheter ce truc inutile ? â€” ___",
    answer: "ArrÃªte tes conneries"
  },
  {
    full: "â€” Tu prends un cafÃ© ce matin ? â€” Bien sÃ»r, comme dâ€™hab.",
    withGap: "â€” Tu prends un cafÃ© ce matin ? â€” Bien sÃ»r, ___",
    answer: "Comme dâ€™hab"
  },
  {
    full: "â€” Tu as lu ce message ? â€” Non, Ã§a ne me regarde pas.",
    withGap: "â€” Tu as lu ce message ? â€” Non, ___",
    answer: "Ã‡a ne me regarde pas"
  },
  {
    full: "â€” Il y a trop de bruit ici. On sâ€™arrache ? â€” Ouais, allez !",
    withGap: "â€” Il y a trop de bruit ici. ___ ? â€” Ouais, allez !",
    answer: "On sâ€™arrache"
  },
  {
    full: "â€” Jâ€™ai pas eu le posteâ€¦ â€” Tâ€™inquiÃ¨te mÃªme pas, tâ€™auras mieux.",
    withGap: "â€” Jâ€™ai pas eu le posteâ€¦ â€” ___, tâ€™auras mieux.",
    answer: "Tâ€™inquiÃ¨te mÃªme pas"
  }
];

function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function speak(text) {
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'fr-FR';
  const voices = speechSynthesis.getVoices();
  const fr = voices.find(v => v.lang === 'fr-FR');
  if (fr) utterance.voice = fr;
  speechSynthesis.speak(utterance);
}

speechSynthesis.onvoiceschanged = () => {};

function renderExercises() {
  const dropdownContainer = document.getElementById("dropdown-exercise");
  const inputContainer = document.getElementById("input-exercise");

  dialogues.forEach((dlg, i) => {
    const shuffled = shuffle([...expressions]);
    const options = shuffled.map(exp => `<option value="${exp}">${exp}</option>`).join("");
    
    dropdownContainer.innerHTML += `
      <div class="question">
        <button onclick="speak('${dlg.full}')">ğŸ”Š Ã‰couter</button><br>
        ${dlg.withGap.replace("___", `<select id="dd${i}"><option value="">â€”</option>${options}</select>`)}
      </div>
    `;

    inputContainer.innerHTML += `
      <div class="question">
        ${dlg.withGap.replace("___", `<input type="text" id="in${i}" placeholder="...">`)}
      </div>
    `;
  });
}

function checkDropdown() {
  let score = 0;
  dialogues.forEach((dlg, i) => {
    const sel = document.getElementById("dd" + i);
    sel.classList.remove("correct", "missed");
    if (sel.value === dlg.answer) {
      sel.classList.add("correct");
      score++;
    } else {
      sel.classList.add("missed");
    }
  });
  document.getElementById("score1").innerText = `Exercice 1 : ${score} / ${dialogues.length}`;
}

function checkInput() {
  let score = 0;
  dialogues.forEach((dlg, i) => {
    const input = document.getElementById("in" + i);
    input.classList.remove("correct", "missed");
    if (input.value.trim().toLowerCase() === dlg.answer.toLowerCase()) {
      input.classList.add("correct");
      score++;
    } else {
      input.classList.add("missed");
    }
  });
  document.getElementById("score2").innerText = `Exercice 2 : ${score} / ${dialogues.length}`;
}

window.onload = renderExercises;
</script>

</body>
</html>
