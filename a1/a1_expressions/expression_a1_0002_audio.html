<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Expressions courantes (2) â€” Ã©coute + dialogues</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; }
    .question { margin-bottom: 20px; }
    .correct { background-color: #c8f7c5; }
    .missed { background-color: #fce3e3; }
    .explanation { color: green; display: none; margin-top: 5px; }
    select { padding: 5px; }
    button { margin: 10px 5px; }
    table { border-collapse: collapse; margin-bottom: 30px; }
    th, td { padding: 6px 12px; border: 1px solid #ccc; text-align: left; }
  </style>
</head>
<body>

<h2>ğŸ“˜ Expressions courantes â€” SÃ©rie 2</h2>
<p>Voici une liste d'expressions franÃ§aises familiÃ¨res avec leur traduction en russe et une explication grammaticale :</p>

<table>
  <tr>
    <th>Expression</th>
    <th>ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´</th>
    <th>ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ</th>
  </tr>
  <tr><td>Tu mâ€™Ã©tonnes !</td><td>ĞÑƒ Ñ‚Ñ‹ Ğ´Ğ°Ñ‘ÑˆÑŒ! / ĞĞµÑƒĞ´Ğ¸Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾!</td><td>Ğ“Ğ»Ğ°Ğ³Ğ¾Ğ» Â«Ã©tonnerÂ» Ğ²Ğ¾ 2-Ğ¼ Ğ»Ğ¸Ñ†Ğµ, Ñ€Ğ°Ğ·Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ ÑƒĞ´Ğ¸Ğ²Ğ»ĞµĞ½Ğ¸Ñ</td></tr>
  <tr><td>Je nâ€™en peux plus</td><td>Ğ¯ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ½Ğµ Ğ¼Ğ¾Ğ³Ñƒ / Ğ£ÑÑ‚Ğ°Ğ»</td><td>ĞÑ‚Ñ€Ğ¸Ñ†Ğ°Ğ½Ğ¸Ğµ Ñ Â«en pouvoirÂ» â€” Ğ²Ñ‹Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ ÑƒÑÑ‚Ğ°Ğ»Ğ¾ÑÑ‚ÑŒ, Ğ¿Ñ€ĞµĞ´ĞµĞ»</td></tr>
  <tr><td>Tant mieux</td><td>Ğ¢ĞµĞ¼ Ğ»ÑƒÑ‡ÑˆĞµ</td><td>ĞĞ°Ñ€ĞµÑ‡Ğ¸Ğµ Â«tantÂ» + ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ° Â«mieuxÂ»</td></tr>
  <tr><td>Tâ€™inquiÃ¨te</td><td>ĞĞµ Ğ¿ĞµÑ€ĞµĞ¶Ğ¸Ğ²Ğ°Ğ¹</td><td>Ğ˜Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¸Ğ² Ğ³Ğ»Ğ°Ğ³Ğ¾Ğ»Ğ° Â«sâ€™inquiÃ©terÂ» Ñ Ğ¼ĞµÑÑ‚Ğ¾Ğ¸Ğ¼ĞµĞ½Ğ¸ĞµĞ¼ Â«tuÂ»</td></tr>
  <tr><td>Ã€ tout Ã  lâ€™heure</td><td>Ğ”Ğ¾ ÑĞºĞ¾Ñ€Ğ¾Ğ³Ğ¾ (Ğ² Ñ‚ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ½Ñ)</td><td>Ğ£ÑÑ‚Ğ¾Ğ¹Ñ‡. Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ³Ğ¾Ğ¼ Â«Ã Â» + ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸</td></tr>
  <tr><td>Pas mal</td><td>ĞĞµĞ¿Ğ»Ğ¾Ñ…Ğ¾</td><td>ĞÑ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ğ±ĞµĞ· Ğ³Ğ»Ğ°Ğ³Ğ¾Ğ»Ğ°, Ğ¸Ñ€Ğ¾Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ</td></tr>
  <tr><td>Câ€™est pas grave</td><td>ĞĞ¸Ñ‡ĞµĞ³Ğ¾ ÑÑ‚Ñ€Ğ°ÑˆĞ½Ğ¾Ğ³Ğ¾</td><td>Ğ Ğ°Ğ·Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ½Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ¾Ñ‚ Â«ce nâ€™est pas graveÂ» â€” Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ğ½Ğ¸Ğµ</td></tr>
  <tr><td>Comme tu veux</td><td>ĞšĞ°Ğº Ñ…Ğ¾Ñ‡ĞµÑˆÑŒ</td><td>Â«CommeÂ» + 2-Ğµ Ğ»Ğ¸Ñ†Ğ¾ Ğ³Ğ»Ğ°Ğ³Ğ¾Ğ»Ğ° Â«vouloirÂ»</td></tr>
  <tr><td>Jâ€™en ai marre</td><td>ĞœĞ½Ğµ ÑÑ‚Ğ¾ Ğ½Ğ°Ğ´Ğ¾ĞµĞ»Ğ¾</td><td>Ğ˜Ğ´Ğ¸Ğ¾Ğ¼Ğ° Ñ Â«en avoir marreÂ» â€” Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ´Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ</td></tr>
  <tr><td>Ã‡a dÃ©pend</td><td>Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ¾Ğ±ÑÑ‚Ğ¾ÑÑ‚ĞµĞ»ÑŒÑÑ‚Ğ²</td><td>3-Ğµ Ğ»Ğ¸Ñ†Ğ¾ ĞµĞ´. Ñ‡. Ğ³Ğ»Ğ°Ğ³Ğ¾Ğ»Ğ° Â«dÃ©pendreÂ»</td></tr>
</table>

<h3>ğŸ§© Partie 1 â€” ComplÃ©tez les mini-dialogues</h3>
<div id="dialogue-fill"></div>
<p id="fill-score"></p>

<h3>ğŸ§ Partie 2 â€” Exercice Ã  lâ€™Ã©coute</h3>
<p>Cliquez sur ğŸ”Š pour Ã©couter, puis choisissez la bonne rÃ©ponse.</p>
<div id="audio-exercise"></div>
<p id="audio-score"></p>

<button onclick="checkFill(); checkAudioAnswers();">VÃ©rifier tout</button>
<button onclick="location.reload()">RÃ©initialiser</button>

<p>
  <a href="../a1_expressions.html">â† Retour aux expressions</a> |
  <a href="../../index.html">ğŸ  Accueil</a>
</p>

<script>
const expressionsList = [
  "Tu mâ€™Ã©tonnes !", "Je nâ€™en peux plus", "Tant mieux", "Tâ€™inquiÃ¨te",
  "Ã€ tout Ã  lâ€™heure", "Pas mal", "Câ€™est pas grave", "Comme tu veux",
  "Jâ€™en ai marre", "Ã‡a dÃ©pend"
];

const miniDialogues = [
  ["â€” Tu veux sortir ce soir ?<br>â€” ___", "Comme tu veux"],
  ["â€” Je suis crevÃ©, jâ€™ai bossÃ© toute la journÃ©e !<br>â€” ___", "Je nâ€™en peux plus"],
  ["â€” On a gagnÃ© le concours !<br>â€” ___", "Tant mieux"],
  ["â€” Tu nâ€™as pas encore mangÃ© ?<br>â€” ___", "Jâ€™en ai marre"],
  ["â€” Je ne pourrai pas venir ce soir.<br>â€” ___", "Câ€™est pas grave"],
  ["â€” On se voit Ã  17h devant la gare.<br>â€” ___", "Ã€ tout Ã  lâ€™heure"],
  ["â€” Ce film Ã©tait pas mal, non ?<br>â€” ___", "Pas mal"],
  ["â€” Jâ€™ai ratÃ© mon bus, encore une fois !<br>â€” ___", "Tu mâ€™Ã©tonnes !"],
  ["â€” Il va pleuvoir demain ?<br>â€” ___", "Ã‡a dÃ©pend"],
  ["â€” Je suis un peu stressÃ© pour lâ€™examen...<br>â€” ___", "Tâ€™inquiÃ¨te"]
];

const audioQuestions = [
  ["Tu mâ€™Ã©tonnes !", ["Tu mâ€™Ã©tonnes !", "Pas de problÃ¨me", "Câ€™est pas grave"]],
  ["Je nâ€™en peux plus", ["Pas mal", "Tâ€™inquiÃ¨te", "Je nâ€™en peux plus"]],
  ["Tant mieux", ["Tant mieux", "Pas mal", "Jâ€™en ai marre"]],
  ["Tâ€™inquiÃ¨te", ["Tu mâ€™Ã©tonnes !", "Tâ€™inquiÃ¨te", "Comme tu veux"]],
  ["Ã€ tout Ã  lâ€™heure", ["Ã€ bientÃ´t", "Ã€ tout Ã  lâ€™heure", "Salut"]],
  ["Pas mal", ["Pas mal", "Pas du tout", "Tant mieux"]],
  ["Câ€™est pas grave", ["Ce nâ€™est pas grave", "Je nâ€™en peux plus", "Ã‡a dÃ©pend"]],
  ["Comme tu veux", ["Comme tu veux", "Tu mâ€™Ã©tonnes !", "Pas mal"]],
  ["Jâ€™en ai marre", ["Tâ€™inquiÃ¨te", "Jâ€™en ai marre", "Tant mieux"]],
  ["Ã‡a dÃ©pend", ["Ã‡a va", "Ã‡a dÃ©pend", "Dâ€™accord"]];

function speak(text) {
  const u = new SpeechSynthesisUtterance(text);
  u.lang = 'fr-FR';
  const voices = speechSynthesis.getVoices();
  const fr = voices.find(v => v.lang === 'fr-FR');
  if (fr) u.voice = fr;
  speechSynthesis.speak(u);
}

speechSynthesis.onvoiceschanged = () => {};

function renderDialogueFill() {
  const container = document.getElementById("dialogue-fill");
  miniDialogues.forEach(([text, correct], i) => {
    const id = `fill${i}`;
    const options = expressionsList.map(e => `<option>${e}</option>`).join("");
    container.innerHTML += `<div class="question">${text.replace("___", `<select id="${id}"><option value="">â€”</option>${options}</select>`)}</div>`;
  });
}

function renderAudioExercise() {
  const container = document.getElementById("audio-exercise");
  audioQuestions.forEach(([correct, options], i) => {
    const id = `q${i}`;
    let html = `<div class="question">
      <button onclick="speak('${correct}')">ğŸ”Š Ã‰couter</button>
      <select id="${id}">
        <option value="">â€” Choisissez â€”</option>`;
    options.forEach(opt => {
      html += `<option value="${opt}">${opt}</option>`;
    });
    html += `</select> <div class="explanation" id="exp${id}">âœ… ${correct}</div></div>`;
    container.innerHTML += html;
  });
}

function checkFill() {
  let score = 0;
  miniDialogues.forEach(([, correct], i) => {
    const sel = document.getElementById("fill" + i);
    sel.classList.remove("correct", "missed");
    if (sel.value === correct) {
      sel.classList.add("correct");
      score++;
    } else {
      sel.classList.add("missed");
    }
  });
  document.getElementById("fill-score").innerText = `Mini-dialogues : ${score} / ${miniDialogues.length}`;
}

function checkAudioAnswers() {
  let score = 0;
  audioQuestions.forEach(([correct], i) => {
    const sel = document.getElementById("q" + i);
    sel.classList.remove("correct", "missed");
    if (sel.value === correct) {
      sel.classList.add("correct");
      score++;
    } else {
      sel.classList.add("missed");
    }
  });
  document.getElementById("audio-score").innerText = `Ã‰coute : ${score} / ${audioQuestions.length}`;
}

window.onload = function() {
  renderDialogueFill();
  renderAudioExercise();
};
</script>

</body>
</html>
