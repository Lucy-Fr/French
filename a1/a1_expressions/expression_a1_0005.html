<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Expressions courantes (5) â€” dialogues + audio + insertion libre</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; }
    .question { margin-bottom: 25px; }
    .correct { background-color: #c8f7c5; }
    .missed { background-color: #fce3e3; }
    select, input[type="text"] { padding: 5px; }
    button { margin: 10px 5px; }
    table { border-collapse: collapse; margin-bottom: 30px; }
    th, td { padding: 6px 12px; border: 1px solid #ccc; text-align: left; }
  </style>
</head>
<body>

<h2>ğŸ“˜ Expressions courantes â€” SÃ©rie 5</h2>
<p>Voici une liste d'expressions franÃ§aises familiÃ¨res avec leur traduction en russe et une explication grammaticale :</p>

<table>
  <tr><th>Expression</th><th>ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´</th><th>ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ</th></tr>
  <tr><td>Ã‡a va aller</td><td>Ğ’ÑÑ‘ Ğ±ÑƒĞ´ĞµÑ‚ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾</td><td>Futur proche Ñ Ğ³Ğ»Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ¼ Â«allerÂ»</td></tr>
  <tr><td>Je nâ€™ai pas le choix</td><td>Ğ£ Ğ¼ĞµĞ½Ñ Ğ½ĞµÑ‚ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ°</td><td>ĞÑ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ñ Â«avoirÂ»</td></tr>
  <tr><td>Je mâ€™en fiche</td><td>ĞœĞ½Ğµ Ğ²ÑÑ‘ Ñ€Ğ°Ğ²Ğ½Ğ¾</td><td>Ğ˜Ğ´Ğ¸Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ„Ñ€Ğ°Ğ·Ğ° Ñ Ğ¼ĞµÑÑ‚Ğ¾Ğ¸Ğ¼ĞµĞ½Ğ¸ĞµĞ¼ Â«enÂ»</td></tr>
  <tr><td>Tu mâ€™Ã©nerves</td><td>Ğ¢Ñ‹ Ğ¼ĞµĞ½Ñ Ñ€Ğ°Ğ·Ğ´Ñ€Ğ°Ğ¶Ğ°ĞµÑˆÑŒ</td><td>Ğ“Ğ»Ğ°Ğ³Ğ¾Ğ» Â«Ã©nerverÂ» Ñ Ğ¼ĞµÑÑ‚Ğ¾Ğ¸Ğ¼ĞµĞ½Ğ¸ĞµĞ¼ Â«meÂ»</td></tr>
  <tr><td>On se tient au courant</td><td>Ğ‘ÑƒĞ´ĞµĞ¼ Ğ½Ğ° ÑĞ²ÑĞ·Ğ¸</td><td>Ğ’Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ Ğ³Ğ»Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ¼ Â«se tenirÂ»</td></tr>
  <tr><td>Je croise les doigts</td><td>Ğ”ĞµÑ€Ğ¶Ñƒ ĞºÑƒĞ»Ğ°Ñ‡ĞºĞ¸</td><td>Ğ’Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ´ĞµĞ¶Ğ´Ñ‹</td></tr>
  <tr><td>Tu vas y arriver</td><td>Ğ£ Ñ‚ĞµĞ±Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑÑ</td><td>Futur proche + Ğ³Ğ»Ğ°Ğ³Ğ¾Ğ» Â«arriverÂ» + Â«yÂ»</td></tr>
  <tr><td>Pas du tout</td><td>Ğ¡Ğ¾Ğ²ÑĞµĞ¼ Ğ½ĞµÑ‚</td><td>Ğ¡Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ğ½Ğ¸Ğµ</td></tr>
  <tr><td>Ã‡a mâ€™Ã©tonnerait</td><td>Ğ¡Ğ¾Ğ¼Ğ½ĞµĞ²Ğ°ÑÑÑŒ / Ğ’Ñ€ÑĞ´ Ğ»Ğ¸</td><td>Ğ£ÑĞ»Ğ¾Ğ²Ğ½Ğ°Ñ ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ñ Ğ³Ğ»Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ¼ Â«Ã©tonnerÂ»</td></tr>
  <tr><td>Jâ€™en peux plus</td><td>Ğ¯ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ½Ğµ Ğ¼Ğ¾Ğ³Ñƒ</td><td>Ğ’Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ÑƒÑÑ‚Ğ°Ğ»Ğ¾ÑÑ‚Ğ¸ Ñ Â«en pouvoirÂ»</td></tr>
</table>

<h3>ğŸ§© Exercice 1 â€” Choisissez l'expression correcte</h3>
<p>ComplÃ©tez chaque dialogue avec la bonne expression (liste dÃ©roulante). Cliquez sur ğŸ”Š pour Ã©couter.</p>
<div id="dropdown-exercise"></div>
<p id="score1"></p>

<h3>âœï¸ Exercice 2 â€” Ã‰crivez l'expression correcte</h3>
<p>Inscrivez la bonne expression dans chaque espace vide.</p>
<div id="input-exercise"></div>
<p id="score2"></p>

<button onclick="checkDropdown(); checkInput();">VÃ©rifier</button>
<button onclick="location.reload()">RÃ©initialiser</button>

<p>
  <a href="../a1_expressions.html">â† Retour aux expressions</a> |
  <a href="../../index.html">ğŸ  Accueil</a>
</p>

<script>
const expressions = [
  "Ã‡a va aller", "Je nâ€™ai pas le choix", "Je mâ€™en fiche", "Tu mâ€™Ã©nerves",
  "On se tient au courant", "Je croise les doigts", "Tu vas y arriver",
  "Pas du tout", "Ã‡a mâ€™Ã©tonnerait", "Jâ€™en peux plus"
];

const dialogues = [
  {
    full: "â€” Tu vas rÃ©ussir, jâ€™en suis sÃ»r. â€” Tu vas y arriver.",
    withGap: "â€” Tu vas rÃ©ussir, jâ€™en suis sÃ»r. â€” ___",
    answer: "Tu vas y arriver"
  },
  {
    full: "â€” Jâ€™ai tellement de travail, je nâ€™en peux plus !",
    withGap: "â€” Jâ€™ai tellement de travail, ___ !",
    answer: "Jâ€™en peux plus"
  },
  {
    full: "â€” On se redit Ã§a demain ? â€” Oui, on se tient au courant.",
    withGap: "â€” On se redit Ã§a demain ? â€” Oui, ___",
    answer: "On se tient au courant"
  },
  {
    full: "â€” Tu crois quâ€™il viendra ? â€” Ã‡a mâ€™Ã©tonnerait.",
    withGap: "â€” Tu crois quâ€™il viendra ? â€” ___",
    answer: "Ã‡a mâ€™Ã©tonnerait"
  },
  {
    full: "â€” Ce nâ€™est pas grave, Ã§a va aller.",
    withGap: "â€” Ce nâ€™est pas grave, ___",
    answer: "Ã‡a va aller"
  },
  {
    full: "â€” Tu mâ€™as encore interrompu ! â€” Tu mâ€™Ã©nerves !",
    withGap: "â€” Tu mâ€™as encore interrompu ! â€” ___",
    answer: "Tu mâ€™Ã©nerves"
  },
  {
    full: "â€” Tu vas passer ton examen aujourdâ€™hui ? â€” Oui, je croise les doigts.",
    withGap: "â€” Tu vas passer ton examen aujourdâ€™hui ? â€” Oui, ___",
    answer: "Je croise les doigts"
  },
  {
    full: "â€” Tu veux aller au musÃ©e ? â€” Pas du tout.",
    withGap: "â€” Tu veux aller au musÃ©e ? â€” ___",
    answer: "Pas du tout"
  },
  {
    full: "â€” Tu as choisi ce job ? â€” Non, je nâ€™ai pas le choix.",
    withGap: "â€” Tu as choisi ce job ? â€” Non, ___",
    answer: "Je nâ€™ai pas le choix"
  },
  {
    full: "â€” Il tâ€™a insultÃ© et tu ne rÃ©agis pas ? â€” Je mâ€™en fiche.",
    withGap: "â€” Il tâ€™a insultÃ© et tu ne rÃ©agis pas ? â€” ___",
    answer: "Je mâ€™en fiche"
  }
];

function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function speak(text) {
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'fr-FR';
  const voices = speechSynthesis.getVoices();
  const fr = voices.find(v => v.lang === 'fr-FR');
  if (fr) utterance.voice = fr;
  speechSynthesis.speak(utterance);
}

speechSynthesis.onvoiceschanged = () => {};

function renderExercises() {
  const dropdownContainer = document.getElementById("dropdown-exercise");
  const inputContainer = document.getElementById("input-exercise");

  dialogues.forEach((dlg, i) => {
    const shuffled = shuffle([...expressions]);
    const options = shuffled.map(exp => `<option value="${exp}">${exp}</option>`).join("");
    
    dropdownContainer.innerHTML += `
      <div class="question">
        <button onclick="speak('${dlg.full}')">ğŸ”Š Ã‰couter</button><br>
        ${dlg.withGap.replace("___", `<select id="dd${i}"><option value="">â€”</option>${options}</select>`)}
      </div>
    `;

    inputContainer.innerHTML += `
      <div class="question">
        ${dlg.withGap.replace("___", `<input type="text" id="in${i}" placeholder="...">`)}
      </div>
    `;
  });
}

function checkDropdown() {
  let score = 0;
  dialogues.forEach((dlg, i) => {
    const sel = document.getElementById("dd" + i);
    sel.classList.remove("correct", "missed");
    if (sel.value === dlg.answer) {
      sel.classList.add("correct");
      score++;
    } else {
      sel.classList.add("missed");
    }
  });
  document.getElementById("score1").innerText = `Exercice 1 : ${score} / ${dialogues.length}`;
}

function checkInput() {
  let score = 0;
  dialogues.forEach((dlg, i) => {
    const input = document.getElementById("in" + i);
    input.classList.remove("correct", "missed");
    if (input.value.trim().toLowerCase() === dlg.answer.toLowerCase()) {
      input.classList.add("correct");
      score++;
    } else {
      input.classList.add("missed");
    }
  });
  document.getElementById("score2").innerText = `Exercice 2 : ${score} / ${dialogues.length}`;
}

window.onload = renderExercises;
</script>

</body>
</html>
