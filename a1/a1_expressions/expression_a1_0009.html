<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Expressions courantes ‚Äî S√©rie 9</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; line-height: 1.6; }
    table { border-collapse: collapse; margin-bottom: 30px; width: 100%; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    .reg { font-style: italic; color: gray; }
    .question { margin-bottom: 25px; }
    select, input[type="text"] { padding: 6px; margin-top: 5px; }
    .correct { background-color: #c8f7c5; }
    .missed { background-color: #fce3e3; }
    button { margin: 10px 5px; }
  </style>
</head>
<body>

<h2>üìò Expressions courantes ‚Äî S√©rie 9</h2>
<p>Voici 10 nouvelles expressions avec traduction, explication grammaticale et registre :</p>

<table>
  <tr><th>Expression</th><th>–ü–µ—Ä–µ–≤–æ–¥</th><th>–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</th><th>–†–µ–≥–∏—Å—Ç—Ä</th></tr>
  <tr><td>Je m‚Äôen doute</td><td>–Ø —Ç–∞–∫ –∏ –¥—É–º–∞–ª(–∞)</td><td>–ì–ª–∞–≥–æ–ª ¬´s‚Äôen douter¬ª</td><td class="reg">—Ä–∞–∑–≥.</td></tr>
  <tr><td>Je m‚Äôen occupe</td><td>–Ø —ç—Ç–∏–º –∑–∞–π–º—É—Å—å</td><td>–ì–ª–∞–≥–æ–ª ¬´s‚Äôoccuper de¬ª</td><td class="reg">–Ω–µ–π—Ç—Ä.</td></tr>
  <tr><td>Je suis preneur / preneuse</td><td>–Ø –∑–∞! / –ú–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç</td><td>–§—Ä–∞–∑–∞ —Å √™tre + adjectif nominal</td><td class="reg">–Ω–µ–π—Ç—Ä.</td></tr>
  <tr><td>C‚Äôest du jamais vu</td><td>–¢–∞–∫–æ–≥–æ –µ—â—ë –Ω–µ –±—ã–ª–æ</td><td>–í—ã—Ä–∞–∂–µ–Ω–∏–µ —Å ¬´jamais vu¬ª</td><td class="reg">—Ä–∞–∑–≥.</td></tr>
  <tr><td>Tu m‚Äôen diras des nouvelles</td><td>–ü–æ—Ç–æ–º —Å–∫–∞–∂–µ—à—å —Å–ø–∞—Å–∏–±–æ / —Å–∞–º —É–¥–∏–≤–∏—à—å—Å—è</td><td>–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º</td><td class="reg">—Ä–∞–∑–≥.</td></tr>
  <tr><td>√áa se tente</td><td>–°—Ç–æ–∏—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å</td><td>–ë–µ–∑–ª–∏—á–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (√ßa + se + verbe)</td><td class="reg">—Ä–∞–∑–≥.</td></tr>
  <tr><td>J‚Äôai failli oublier</td><td>–Ø —á—É—Ç—å –Ω–µ –∑–∞–±—ã–ª</td><td>–ì–ª–∞–≥–æ–ª ¬´faillir¬ª + –∏–Ω—Ñ–∏–Ω–∏—Ç–∏–≤</td><td class="reg">–Ω–µ–π—Ç—Ä.</td></tr>
  <tr><td>Tu tombes bien</td><td>–ö–∞–∫ —Ä–∞–∑ –≤–æ–≤—Ä–µ–º—è</td><td>–§—Ä–∞–∑–∞ —Å ¬´tomber¬ª</td><td class="reg">—Ä–∞–∑–≥.</td></tr>
  <tr><td>C‚Äôest pas faux</td><td>–ù—É, –≤ —ç—Ç–æ–º —á—Ç–æ-—Ç–æ –µ—Å—Ç—å</td><td>–û—Ç—Ä–∏—Ü–∞–Ω–∏–µ —Å √™tre</td><td class="reg">—Ä–∞–∑–≥.</td></tr>
  <tr><td>C‚Äôest pas gagn√©</td><td>–≠—Ç–æ –µ—â—ë –Ω–µ —Ç–æ—á–Ω–æ / –í—Å—ë —Å–ª–æ–∂–Ω–æ</td><td>–§—Ä–∞–∑–∞ —Å gagner (–∏—Ä–æ–Ω.)</td><td class="reg">—Ä–∞–∑–≥.</td></tr>
</table>

<h3>üß© Exercice 1 ‚Äî Choisissez l'expression correcte</h3>
<p>Compl√©tez chaque phrase. Cliquez sur üîä pour √©couter.</p>
<div id="dropdown-ex"></div>
<p id="score1"></p>

<h3>‚úçÔ∏è Exercice 2 ‚Äî √âcrivez l'expression correcte</h3>
<p>√âcrivez la bonne expression sans aide.</p>
<div id="input-ex"></div>
<p id="score2"></p>

<button onclick="checkDropdown(); checkInput();">V√©rifier</button>
<button onclick="location.reload()">R√©initialiser</button>

<p>
  <a href="../a1_expressions.html">‚Üê Retour aux expressions</a> |
  <a href="../../index.html">üè† Accueil</a>
</p>

<script>
const expressions = [
  "Je m‚Äôen doute", "Je m‚Äôen occupe", "Je suis preneur", "C‚Äôest du jamais vu",
  "Tu m‚Äôen diras des nouvelles", "√áa se tente", "J‚Äôai failli oublier", "Tu tombes bien",
  "C‚Äôest pas faux", "C‚Äôest pas gagn√©"
];

const dialogues = [
  {
    full: "‚Äî Il a encore tout m√©lang√© ? ‚Äî Je m‚Äôen doute.",
    withGap: "‚Äî Il a encore tout m√©lang√© ? ‚Äî ___",
    answer: "Je m‚Äôen doute"
  },
  {
    full: "‚Äî Qui envoie le mail ? ‚Äî Je m‚Äôen occupe.",
    withGap: "‚Äî Qui envoie le mail ? ‚Äî ___",
    answer: "Je m‚Äôen occupe"
  },
  {
    full: "‚Äî On va au restau ? ‚Äî Je suis preneur !",
    withGap: "‚Äî On va au restau ? ‚Äî ___ !",
    answer: "Je suis preneur"
  },
  {
    full: "‚Äî Ils ont fini en 2 heures ! ‚Äî C‚Äôest du jamais vu.",
    withGap: "‚Äî Ils ont fini en 2 heures ! ‚Äî ___",
    answer: "C‚Äôest du jamais vu"
  },
  {
    full: "‚Äî Essaie ce g√¢teau, tu m‚Äôen diras des nouvelles !",
    withGap: "‚Äî Essaie ce g√¢teau, ___ !",
    answer: "tu m‚Äôen diras des nouvelles"
  },
  {
    full: "‚Äî Tu crois que √ßa peut marcher ? ‚Äî √áa se tente.",
    withGap: "‚Äî Tu crois que √ßa peut marcher ? ‚Äî ___",
    answer: "√áa se tente"
  },
  {
    full: "‚Äî Tu devais appeler ta m√®re ! ‚Äî J‚Äôai failli oublier.",
    withGap: "‚Äî Tu devais appeler ta m√®re ! ‚Äî ___",
    answer: "J‚Äôai failli oublier"
  },
  {
    full: "‚Äî Je venais justement te voir. ‚Äî Tu tombes bien.",
    withGap: "‚Äî Je venais justement te voir. ‚Äî ___",
    answer: "Tu tombes bien"
  },
  {
    full: "‚Äî Il a pas tout √† fait tort‚Ä¶ ‚Äî C‚Äôest pas faux.",
    withGap: "‚Äî Il a pas tout √† fait tort‚Ä¶ ‚Äî ___",
    answer: "C‚Äôest pas faux"
  },
  {
    full: "‚Äî On va devoir tout recommencer‚Ä¶ ‚Äî C‚Äôest pas gagn√©.",
    withGap: "‚Äî On va devoir tout recommencer‚Ä¶ ‚Äî ___",
    answer: "C‚Äôest pas gagn√©"
  }
];

function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function speak(text) {
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'fr-FR';
  const voices = speechSynthesis.getVoices();
  const fr = voices.find(v => v.lang === 'fr-FR');
  if (fr) utterance.voice = fr;
  speechSynthesis.speak(utterance);
}

speechSynthesis.onvoiceschanged = () => {};

function renderExercises() {
  const drop = document.getElementById("dropdown-ex");
  const input = document.getElementById("input-ex");

  dialogues.forEach((dlg, i) => {
    const options = shuffle([...expressions])
      .map(e => `<option value="${e}">${e}</option>`)
      .join("");

    drop.innerHTML += `
      <div class="question">
        <button onclick="speak('${dlg.full}')">üîä</button><br>
        ${dlg.withGap.replace("___", `<select id="dd${i}"><option value="">‚Äî</option>${options}</select>`)}
      </div>
    `;

    input.innerHTML += `
      <div class="question">
        ${dlg.withGap.replace("___", `<input type="text" id="in${i}" placeholder="...">`)}
      </div>
    `;
  });
}

function checkDropdown() {
  let score = 0;
  dialogues.forEach((dlg, i) => {
    const sel = document.getElementById("dd" + i);
    sel.classList.remove("correct", "missed");
    if (sel.value === dlg.answer) {
      sel.classList.add("correct");
      score++;
    } else {
      sel.classList.add("missed");
    }
  });
  document.getElementById("score1").innerText = `Exercice 1 : ${score} / ${dialogues.length}`;
}

function checkInput() {
  let score = 0;
  dialogues.forEach((dlg, i) => {
    const val = document.getElementById("in" + i).value.trim().toLowerCase();
    const input = document.getElementById("in" + i);
    input.classList.remove("correct", "missed");
    if (val === dlg.answer.toLowerCase()) {
      input.classList.add("correct");
      score++;
    } else {
      input.classList.add("missed");
    }
  });
  document.getElementById("score2").innerText = `Exercice 2 : ${score} / ${dialogues.length}`;
}

window.onload = renderExercises;
</script>

</body>
</html>
