<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>√Ä la pr√©fecture de police ‚Äî dialogue et exercices</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
    .question { margin-bottom: 15px; }
    .correct { background-color: #c8f7c5; }
    .missed { background-color: #fce3e3; }
    .explanation { color: green; display: none; }
    .exercise-block { margin-bottom: 40px; }
    button { margin: 5px; }
  </style>
</head>
<body>

<h2>Dialogue complet ‚Äî √Ä la pr√©fecture de police</h2>
<p>üîä Cliquez sur üîä pour √©couter chaque r√©plique.</p>

<div id="dialogue-block"></div>

<h3>Traduction en russe</h3>
<div style="background:#f3f3f3; padding: 10px; border:1px solid #ccc; margin-bottom: 30px;">
  <p><strong>‚Äî –î–æ–±—Ä—ã–π –¥–µ–Ω—å, –º–∞–¥–∞–º, –º–Ω–µ –Ω—É–∂–µ–Ω –Ω–æ–≤—ã–π –ø–∞—Å–ø–æ—Ä—Ç —Å—Ä–æ—á–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ —è –¥–æ–ª–∂–µ–Ω —É–µ—Ö–∞—Ç—å —á–µ—Ä–µ–∑ —Ç—Ä–∏ –¥–Ω—è –≤ –Ø–ø–æ–Ω–∏—é.</strong></p>
  <p>‚Äî –ê—Ö, –Ω–µ—Ç, –≥–æ—Å–ø–æ–¥–∏–Ω, —ç—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ! –ù—É–∂–Ω–æ, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, –¥–µ—Å—è—Ç—å –¥–Ω–µ–π —á—Ç–æ–±—ã –ø–æ–º–µ–Ω—è—Ç—å –ø–∞—Å–ø–æ—Ä—Ç.</p>
  <p>‚Äî –ù–µ—É–∂–µ–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å? –ù–æ —á—Ç–æ –º–Ω–µ –¥–µ–ª–∞—Ç—å, —Ç–æ–≥–¥–∞? –≠—Ç–æ ‚Äî –æ—á–µ–Ω—å –≤–∞–∂–Ω–∞—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞!</p>
  <p>‚Äî –ì–æ—Å–ø–æ–¥–∏–Ω, –Ω–∏—á–µ–º –Ω–µ –º–æ–≥—É –ø–æ–º–æ—á—å, —Ç–∞–∫–æ–≤—ã –ø—Ä–∞–≤–∏–ª–∞! –ò –≤–ø—Ä–æ—á–µ–º, –ø–æ—á–µ–º—É –≤—ã –ø—Ä–∏—à–ª–∏ –ø–æ–º–µ–Ω—è—Ç—å –ø–∞—Å–ø–æ—Ä—Ç –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–Ω—É—Ç—É?</p>
  <p>‚Äî –ù–æ –ø–æ—Ç–æ–º—É —á—Ç–æ —è –Ω–µ –∑–Ω–∞–ª, —á—Ç–æ —è –ø–æ–µ–¥—É –≤ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫—É! –ú–∞–¥–∞–º, –¥–ª—è –º–µ–Ω—è, —ç—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ, —ç—Ç–æ—Ç –ø–∞—Å–ø–æ—Ä—Ç! –≠—Ç–æ ‚Äî –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞, –µ—Å–ª–∏ —É –º–µ–Ω—è –µ–≥–æ –Ω–µ –±—É–¥–µ—Ç!</p>
  <p>‚Äî –ì–æ—Å–ø–æ–¥–∏–Ω, —ç—Ç–æ –Ω–µ –º–æ—è –≤–∏–Ω–∞!</p>
  <p>‚Äî –ö–æ–Ω–µ—á–Ω–æ, —è –≤–∞—Å –Ω–µ –æ–±–≤–∏–Ω—è—é! –ù–æ –Ω—É–∂–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã —è –ø–æ–µ—Ö–∞–ª –≤ –Ø–ø–æ–Ω–∏—é! –¢–æ–≥–¥–∞, —á—Ç–æ –≤—ã –º–Ω–µ –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å?</p>
  <p>‚Äî –•–æ—Ä–æ—à–æ, –∂–¥–∏—Ç–µ –º–æ–º–µ–Ω—Ç, —è —Å–∫–æ—Ä–æ –≤–µ—Ä–Ω—É—Å—å.</p>
  <p>‚Äî –î–∞–π—Ç–µ –º–Ω–µ –≤–∞—à–µ –¥–æ—Å—å–µ‚Ä¶</p>
  <p>‚Äî –ê—Ö, –º–∞–¥–∞–º, –±–æ–ª—å—à–æ–µ —Å–ø–∞—Å–∏–±–æ, –≤—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ—á–µ–Ω—å –ª—é–±–µ–∑–Ω—ã!</p>
  <p>‚Äî –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–≤—Ç—Ä–∞ –∑–∞–π—Ç–∏, –≤–∞—à –ø–∞—Å–ø–æ—Ä—Ç –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤!</p>
  <p>‚Äî –ú–∞–¥–∞–º, –µ—Å–ª–∏ –±—ã —è –º–æ–≥, —è –±—ã –≤–∞—Å —Ä–∞—Å—Ü–µ–ª–æ–≤–∞–ª!</p>
</div>

<div class="exercise-block">
  <h3>üìù Exercice 1 ‚Äî Compl√©tez les mots manquants</h3>
  <div id="fill-gaps"></div>
  <button onclick="checkFill()">V√©rifier</button>
  <p id="fill-score"></p>
</div>

<div class="exercise-block">
  <h3>üß† Exercice 2 ‚Äî Compr√©hension des expressions</h3>
  <p>Que veut dire : <strong>‚Äúchanger un passeport √† la derni√®re minute‚Äù</strong> ?</p>
  <ul>
    <li><label><input type="radio" name="q1" value="a"> Renouveler un passeport tr√®s t√¥t</label></li>
    <li><label><input type="radio" name="q1" value="b"> Renouveler un passeport juste avant le d√©part</label></li>
    <li><label><input type="radio" name="q1" value="c"> Changer de nom dans le passeport</label></li>
  </ul>

  <p>Que veut dire : <strong>‚Äúce n‚Äôest pas ma faute‚Äù</strong> ?</p>
  <ul>
    <li><label><input type="radio" name="q2" value="a"> Ce n‚Äôest pas mon probl√®me</label></li>
    <li><label><input type="radio" name="q2" value="b"> Ce n‚Äôest pas de ma responsabilit√©</label></li>
    <li><label><input type="radio" name="q2" value="c"> C‚Äôest ma faute</label></li>
  </ul>

  <button onclick="checkExpressions()">V√©rifier</button>
  <p id="expression-score"></p>
</div>

<div class="exercise-block">
  <h3>‚öôÔ∏è Exercice 3 ‚Äî Choisissez la bonne construction</h3>
  <p><strong>1.</strong> Il faut au moins dix jours pour <select id="g1">
    <option>‚Äî</option>
    <option>changer</option>
    <option>partir</option>
    <option>faire</option>
  </select> un passeport.</p>

  <p><strong>2.</strong> Je ne <select id="g2">
    <option>‚Äî</option>
    <option>savais</option>
    <option>voulais</option>
    <option>partais</option>
  </select> pas que j‚Äôallais partir.</p>

  <p><strong>3.</strong> Ce <select id="g3">
    <option>‚Äî</option>
    <option>est</option>
    <option>sera</option>
    <option>serait</option>
  </select> une catastrophe si je ne l‚Äôai pas.</p>

  <button onclick="checkGrammar()">V√©rifier</button>
  <p id="grammar-score"></p>
</div>

<script>
const dialogue = [
  ["Client", "Bonjour, madame, j‚Äôai besoin d‚Äôun nouveau ___ en urgence...", "passeport"],
  ["Employ√©e", "Ah non, monsieur, ce n‚Äôest pas possible‚ÄØ! Il faut au ___ dix jours...", "moins"],
  ["Client", "C‚Äôest un voyage ___ tr√®s important‚ÄØ!", "professionnel"],
  ["Employ√©e", "Pourquoi √™tes-vous venu changer votre passeport √† la derni√®re ___‚ÄØ?", "minute"],
  ["Client", "Ce serait une ___ si je ne l‚Äôavais pas‚ÄØ!", "catastrophe"],
  ["Client", "Alors, que me ___-vous de faire‚ÄØ?", "recommandez"]
];

function speak(text) {
  const u = new SpeechSynthesisUtterance(text);
  u.lang = 'fr-FR';
  const voices = speechSynthesis.getVoices();
  const vf = voices.find(v => v.lang === 'fr-FR');
  if (vf) u.voice = vf;
  speechSynthesis.speak(u);
}

speechSynthesis.onvoiceschanged = () => {};

const fullDialogue = [
  ["Client", "Bonjour, madame, j‚Äôai besoin d‚Äôun nouveau passeport en urgence, car je dois partir au Japon dans trois jours."],
  ["Employ√©e", "Ah non, monsieur, ce n‚Äôest pas possible‚ÄØ! Il faut au minimum dix jours pour renouveler un passeport."],
  ["Client", "Il n‚Äôy a vraiment rien √† faire‚ÄØ? Mais que dois-je faire, alors‚ÄØ? C‚Äôest un voyage professionnel tr√®s important‚ÄØ!"],
  ["Employ√©e", "Monsieur, je ne peux rien faire, ce sont les r√®gles‚ÄØ! Et d‚Äôailleurs, pourquoi √™tes-vous venu changer votre passeport √† la derni√®re minute‚ÄØ?"],
  ["Client", "Mais parce que je ne savais pas que j‚Äôallais partir en d√©placement‚ÄØ! Madame, pour moi, ce passeport est tr√®s important‚ÄØ! Ce serait une catastrophe si je ne l‚Äôavais pas‚ÄØ!"],
  ["Employ√©e", "Monsieur, ce n‚Äôest pas de ma faute‚ÄØ!"],
  ["Client", "Bien s√ªr, je ne vous reproche rien‚ÄØ! Mais il faut absolument que j‚Äôaille au Japon‚ÄØ! Alors, que me recommandez-vous de faire‚ÄØ?"],
  ["Employ√©e", "Tr√®s bien, attendez un instant, je reviens tout de suite."],
  ["Employ√©e", "Donnez-moi votre dossier‚Ä¶"],
  ["Client", "Ah, madame, merci beaucoup, vous √™tes vraiment tr√®s aimable‚ÄØ!"],
  ["Employ√©e", "Vous pouvez repasser demain, votre passeport sera pr√™t‚ÄØ!"],
  ["Client", "Madame, si je pouvais, je vous embrasserais‚ÄØ!"]
];

function renderDialogue() {
  const container = document.getElementById("dialogue-block");
  fullDialogue.forEach(([who, line], i) => {
    container.innerHTML += `<p><strong>${who} :</strong> ${line} <button onclick="speak('${line}')">üîä</button></p>`;
  });

  const fill = document.getElementById("fill-gaps");
  dialogue.forEach(([who, line, answer], i) => {
    const inputId = `f${i}`;
    const l = line.replace("___", `<input id="${inputId}" type="text" placeholder="...">`);
    fill.innerHTML += `<div class="question"><strong>${who} :</strong> ${l}</div>`;
  });
}

function checkFill() {
  let score = 0;
  dialogue.forEach(([, , ans], i) => {
    const input = document.getElementById(`f${i}`);
    const val = input.value.trim().toLowerCase();
    input.classList.remove("correct", "missed");
    if (val === ans.toLowerCase()) {
      input.classList.add("correct");
      score++;
    } else {
      input.classList.add("missed");
    }
  });
  document.getElementById("fill-score").innerText = `R√©sultat : ${score} / ${dialogue.length}`;
}

function checkExpressions() {
  const q1 = document.querySelector('input[name="q1"]:checked');
  const q2 = document.querySelector('input[name="q2"]:checked');
  let score = 0;
  if (q1 && q1.value === "b") score++;
  if (q2 && q2.value === "b") score++;
  document.getElementById("expression-score").innerText = `R√©sultat : ${score} / 2`;
}

function checkGrammar() {
  let score = 0;
  if (document.getElementById("g1").value === "changer") score++;
  if (document.getElementById("g2").value === "savais") score++;
  if (document.getElementById("g3").value === "serait") score++;
  document.getElementById("grammar-score").innerText = `R√©sultat : ${score} / 3`;
}

window.onload = renderDialogue;
</script>

<p>
  <a href="../a1_dialogues.html">‚Üê Retour aux dialogues</a> |
  <a href="../../index.html">üè† Accueil</a>
</p>

</body>
</html>
