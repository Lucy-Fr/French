<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Test A2 ‚Äì Fran√ßais interactif</title>
  <style>
    body { font-family: sans-serif; max-width: 800px; margin: 20px auto; padding: 20px; background: #f7f7f7; }
    .question-card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 20px; }
    .option { display: flex; align-items: center; margin-bottom: 10px; }
    .option button { margin-left: 10px; }
    .correct { background-color: #4caf50; color: white; }
    .incorrect { background-color: #f44336; color: white; }
    .button { padding: 8px 12px; font-size: 14px; border: none; border-radius: 6px; cursor: pointer; }
    .hint { color: #b58900; font-style: italic; margin-top: 10px; }
    .progress { height: 16px; background: #e0e0e0; border-radius: 8px; margin: 10px 0; overflow: hidden; }
    .progress-bar { height: 100%; background-color: #2196f3; width: 0%; transition: width 0.3s; }
    .footer-nav { display: flex; flex-wrap: wrap; justify-content: space-between; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ccc; }
    .footer-nav a { text-decoration: none; padding: 10px 15px; background-color: #0055aa; color: white; border-radius: 6px; font-weight: bold; margin-top: 10px; }
  </style>
</head>
<body>

<h1>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç A2 ‚Äî 5 —Ç–µ–º –ø–æ 5 –≤–æ–ø—Ä–æ—Å–æ–≤</h1>
<div>
  <label>–í—ã–±—Ä–∞—Ç—å —Ç–µ–º—É:
    <select id="topicSelector">
      <option value="magasin">üõí –ú–∞–≥–∞–∑–∏–Ω</option>
      <option value="transport">üöá –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
      <option value="meteo">‚òÄÔ∏è –ü–æ–≥–æ–¥–∞</option>
      <option value="voyage">‚úàÔ∏è –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</option>
      <option value="emotions">üòä –≠–º–æ—Ü–∏–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è</option>
    </select>
  </label>
</div>
<div id="app"></div>

<div class="footer-nav">
  <a href="https://lucy-fr.github.io/French/index.html">‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
  <a href="https://lucy-fr.github.io/French/a2/index.html">üîÅ –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º A2</a>
</div>

<script>
// –í—Å—Ç–∞–≤–∏–º —Å—é–¥–∞ JS-–ª–æ–≥–∏–∫—É —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏
const allQuestions = {
  magasin: [
    {
      text: "Il y a une ______ √©norme √† la caisse.",
      options: ["queue", "chaise", "porte", "route"],
      answer: "queue",
      hint: "–í –º–∞–≥–∞–∑–∏–Ω–µ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ —Å—Ç–æ—è—Ç—å –≤...",
      explanation: "'Une queue' signifie '–æ—á–µ—Ä–µ–¥—å'."
    },
    {
      text: "Le magasin ouvre √† ______ heures.",
      options: ["huit", "quarante", "vingt", "cent"],
      answer: "huit",
      hint: "–°–∫–æ–ª—å–∫–æ –æ–±—ã—á–Ω–æ?",
      explanation: "'Huit heures' = 8:00 ‚Äî —á–∞—Å—Ç–æ –≤—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–∞–≥–∞–∑–∏–Ω–æ–≤."
    },
    {
      text: "Je paie √† la ______.",
      options: ["caisse", "table", "porte", "rue"],
      answer: "caisse",
      hint: "–ì–¥–µ –ø–ª–∞—Ç—è—Ç?",
      explanation: "'La caisse' ‚Äî —ç—Ç–æ –∫–∞—Å—Å–∞."
    },
    {
      text: "On ach√®te du pain √† la ______.",
      options: ["boulangerie", "pharmacie", "poste", "banque"],
      answer: "boulangerie",
      hint: "–•–ª–µ–±?",
      explanation: "Pain = —Ö–ª–µ–± ‚Üí boulangerie = –±—É–ª–æ—á–Ω–∞—è."
    },
    {
      text: "Ce produit est en ______.",
      options: ["promotion", "banque", "march√©", "transport"],
      answer: "promotion",
      hint: "–°–∫–∏–¥–∫–∞?",
      explanation: "'En promotion' = –ø–æ –∞–∫—Ü–∏–∏, –Ω–∞ —Å–∫–∏–¥–∫–µ."
    }
  ],
  transport: [
    {
      text: "Le bus est souvent ______ le matin.",
      options: ["plein", "vide", "lent", "propre"],
      answer: "plein",
      hint: "–ö–æ–≥–¥–∞ —á–∞—Å –ø–∏–∫.",
      explanation: "'Plein' = –ø–æ–ª–Ω—ã–π, –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–Ω—ã–π."
    },
    {
      text: "Je prends le ______ pour aller au travail.",
      options: ["m√©tro", "avion", "bateau", "train"],
      answer: "m√©tro",
      hint: "–ì–æ—Ä–æ–¥—Å–∫–æ–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –ø–æ–¥ –∑–µ–º–ª—ë–π.",
      explanation: "'M√©tro' = –º–µ—Ç—Ä–æ."
    },
    {
      text: "Il y a une ______ √† l‚Äôarr√™t.",
      options: ["file", "table", "route", "fen√™tre"],
      answer: "file",
      hint: "–û—á–µ—Ä–µ–¥—å –ª—é–¥–µ–π.",
      explanation: "'Une file' = –æ—á–µ—Ä–µ–¥—å."
    },
    {
      text: "Le train part du ______ num√©ro 5.",
      options: ["quai", "bus", "bureau", "pont"],
      answer: "quai",
      hint: "–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞?",
      explanation: "'Quai' = –ø–µ—Ä—Ä–æ–Ω, –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞."
    },
    {
      text: "Il faut un ______ pour monter dans le bus.",
      options: ["ticket", "journal", "sac", "cadeau"],
      answer: "ticket",
      hint: "–î–ª—è –≤—Ö–æ–¥–∞.",
      explanation: "'Un ticket' = –±–∏–ª–µ—Ç."
    }
  ],
  meteo: [
    {
      text: "Aujourd‚Äôhui il fait tr√®s ______.",
      options: ["chaud", "froid", "clair", "gris"],
      answer: "chaud",
      hint: "–ñ–∞—Ä–∫–æ!",
      explanation: "'Chaud' = –∂–∞—Ä–∫–æ."
    },
    {
      text: "Demain, il va ______.",
      options: ["pleuvoir", "chanter", "manger", "fermer"],
      answer: "pleuvoir",
      hint: "–ü–æ–≥–æ–¥–∞...",
      explanation: "'Pleuvoir' = –¥–æ–∂–¥–∏—Ç—å."
    },
    {
      text: "En hiver, il fait souvent tr√®s ______.",
      options: ["froid", "chaud", "bleu", "rouge"],
      answer: "froid",
      hint: "–ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ 'chaud'.",
      explanation: "'Froid' = —Ö–æ–ª–æ–¥–Ω–æ."
    },
    {
      text: "Il y a beaucoup de ______ dans le ciel.",
      options: ["nuages", "arbres", "maisons", "chaises"],
      answer: "nuages",
      hint: "–°–µ—Ä—ã–µ –≤ –Ω–µ–±–µ.",
      explanation: "'Nuages' = –æ–±–ª–∞–∫–∞."
    },
    {
      text: "Il y a du ______ ce matin.",
      options: ["soleil", "g√¢teau", "boulanger", "train"],
      answer: "soleil",
      hint: "–ñ—ë–ª—Ç–æ–µ –∏ —Ç—ë–ø–ª–æ–µ.",
      explanation: "'Soleil' = —Å–æ–ª–Ω—Ü–µ."
    }
  ],
  voyage: [
    {
      text: "Je vais en ______ cet √©t√©.",
      options: ["vacances", "bureau", "gare", "magasin"],
      answer: "vacances",
      hint: "–õ–µ—Ç–Ω–∏–π –æ—Ç–¥—ã—Ö.",
      explanation: "'Vacances' = –æ—Ç–ø—É—Å–∫, –∫–∞–Ω–∏–∫—É–ª—ã."
    },
    {
      text: "On prend l‚Äô______ pour aller en Italie.",
      options: ["avion", "arbre", "route", "pain"],
      answer: "avion",
      hint: "–ü–µ—Ä–µ–ª—ë—Ç.",
      explanation: "'Avion' = —Å–∞–º–æ–ª—ë—Ç."
    },
    {
      text: "Elle fait sa ______ pour le voyage.",
      options: ["valise", "voiture", "porte", "chaise"],
      answer: "valise",
      hint: "–° —á–µ–º–æ–¥–∞–Ω–æ–º.",
      explanation: "'Valise' = —á–µ–º–æ–¥–∞–Ω."
    },
    {
      text: "Le vol est ______ de deux heures.",
      options: ["retard√©", "propre", "rapide", "assis"],
      answer: "retard√©",
      hint: "–û–Ω –Ω–µ –≤–æ–≤—Ä–µ–º—è.",
      explanation: "'Retard√©' = –∑–∞–¥–µ—Ä–∂–∞–Ω."
    },
    {
      text: "On montre le ______ √† l‚Äôa√©roport.",
      options: ["passeport", "ticket", "g√¢teau", "parfum"],
      answer: "passeport",
      hint: "–î–æ–∫—É–º–µ–Ω—Ç.",
      explanation: "'Passeport' = –ø–∞—Å–ø–æ—Ä—Ç."
    }
  ],
  emotions: [
    {
      text: "Il est tr√®s ______ aujourd‚Äôhui.",
      options: ["content", "froid", "m√©tro", "beau"],
      answer: "content",
      hint: "–û–Ω —É–ª—ã–±–∞–µ—Ç—Å—è.",
      explanation: "'Content' = –¥–æ–≤–æ–ª—å–Ω—ã–π."
    },
    {
      text: "Elle est ______ parce qu‚Äôelle est en retard.",
      options: ["stress√©e", "fatigu√©e", "heureuse", "ouverte"],
      answer: "stress√©e",
      hint: "–ü–µ—Ä–µ–∂–∏–≤–∞–µ—Ç.",
      explanation: "'Stress√©e' = –≤ —Å—Ç—Ä–µ—Å—Å–µ."
    },
    {
      text: "Nous sommes ______ apr√®s le sport.",
      options: ["fatigu√©s", "calmes", "jeunes", "contents"],
      answer: "fatigu√©s",
      hint: "–ü–æ—Å–ª–µ —É—Å–∏–ª–∏–π.",
      explanation: "'Fatigu√©s' = —É—Å—Ç–∞–≤—à–∏–µ."
    },
    {
      text: "Je suis ______ parce que j‚Äôai r√©ussi.",
      options: ["heureux", "ferm√©", "vite", "t√¥t"],
      answer: "heureux",
      hint: "–°—á–∞—Å—Ç–ª–∏–≤—ã–π.",
      explanation: "'Heureux' = —Å—á–∞—Å—Ç–ª–∏–≤—ã–π."
    },
    {
      text: "Ils sont ______ de partir en voyage.",
      options: ["ravis", "grands", "petits", "ouverts"],
      answer: "ravis",
      hint: "–û—á–µ–Ω—å –¥–æ–≤–æ–ª—å–Ω—ã.",
      explanation: "'Ravis' = –æ—á–µ–Ω—å –¥–æ–≤–æ–ª—å–Ω—ã, –≤ –≤–æ—Å—Ç–æ—Ä–≥–µ."
    }
  ]
};

let questions = [], current = 0, correctCount = 0, selectedTopic = "magasin";

function speak(text) {
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'fr-FR';
  speechSynthesis.speak(utterance);
}

function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

function loadTopic(topicKey) {
  selectedTopic = topicKey;
  questions = [...allQuestions[topicKey]];
  shuffle(questions);
  current = 0;
  correctCount = 0;
  renderQuestion();
}

function renderQuestion() {
  const q = questions[current];
  const app = document.getElementById('app');
  app.innerHTML = '';

  const card = document.createElement('div');
  card.className = 'question-card';

  const qText = document.createElement('p');
  qText.innerHTML = `<strong>Question ${current + 1}:</strong> ${q.text}`;
  card.appendChild(qText);

  const speakBtn = document.createElement('button');
  speakBtn.className = 'button';
  speakBtn.textContent = 'üîä –û–∑–≤—É—á–∏—Ç—å';
  speakBtn.onclick = () => speak(q.text);
  card.appendChild(speakBtn);

  const progress = document.createElement('div');
  progress.className = 'progress';
  progress.innerHTML = `<div class="progress-bar" style="width: ${(current / questions.length) * 100}%"></div>`;
  card.appendChild(progress);

  q.options.forEach(opt => {
    const optDiv = document.createElement('div');
    optDiv.className = 'option';

    const optBtn = document.createElement('button');
    optBtn.textContent = opt;
    optBtn.className = 'button';
    optBtn.onclick = () => {
      optBtn.disabled = true;
      const correct = opt === q.answer;
      optBtn.className += correct ? ' correct' : ' incorrect';
      if (correct) correctCount++;

      const feedback = document.createElement('div');
      feedback.innerHTML = correct
        ? `‚úÖ ${q.explanation}`
        : `‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. ${q.explanation}`;
      card.appendChild(feedback);

      localStorage.setItem('lastScore_' + selectedTopic, `${correctCount} / ${questions.length}`);

      setTimeout(() => {
        current++;
        if (current < questions.length) {
          renderQuestion();
        } else {
          renderResult();
        }
      }, 2000);
    };

    const audioBtn = document.createElement('button');
    audioBtn.textContent = 'üîä';
    audioBtn.className = 'button';
    audioBtn.onclick = () => speak(opt);

    optDiv.appendChild(optBtn);
    optDiv.appendChild(audioBtn);
    card.appendChild(optDiv);
  });

  const hintToggle = document.createElement('button');
  hintToggle.textContent = 'üí° –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É';
  hintToggle.className = 'button';
  hintToggle.onclick = () => {
    hintToggle.remove();
    const hintText = document.createElement('div');
    hintText.className = 'hint';
    hintText.textContent = q.hint;
    card.appendChild(hintText);
  };
  card.appendChild(hintToggle);

  app.appendChild(card);
}

function renderResult() {
  const app = document.getElementById('app');
  app.innerHTML = `<div class='question-card'>
    <h2>üéâ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!</h2>
    <p>–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ —Ç–µ–º–µ <strong>${selectedTopic}</strong>: ${correctCount} –∏–∑ ${questions.length}</p>
    <p>–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (localStorage)</p>
    <button class='button' onclick='loadTopic("${selectedTopic}")'>–ü—Ä–æ–π—Ç–∏ —Å–Ω–æ–≤–∞</button>
  </div>`;
}

document.getElementById('topicSelector').onchange = function() {
  loadTopic(this.value);
};

loadTopic("magasin");
</script>

</body>
</html>
